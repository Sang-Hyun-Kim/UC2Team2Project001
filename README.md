# íŒ€ëª…: Auto
---
## í”„ë¡œì íŠ¸ ëª…: ë’· ë™ë„¤ ë§ˆì™• ì¡ìœ¼ëŸ¬ ê°€ê¸°
## í”„ë¡œì íŠ¸ ê°œìš”
  - í”„ë¡œì íŠ¸ ì‘ì—… ê¸°ê°„: 2025/01/10 ~ 2025/01/16
  - C++ ë””ìì¸ íŒ¨í„´ì„ ì ìš©í•œ ê°ì²´ ì§€í–¥ ë°©ì‹ TEXT RPG ê²Œì„ì„ ë§Œë“¤ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. ì €í¬ê°€ êµ¬í˜„í•˜ê³ ì í•˜ëŠ” ê¸°ëŠ¥ ê³¼ ì‹œìŠ¤í…œì´ ì½”ë“œ ì¬ì‚¬ìš©, í™•ì¥ì„±, ìœ ì§€ ë³´ìˆ˜ì„±ì„ ê°€ì§€ë ¤ë©´ ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼í•˜ëŠ”ì§€ ê¸°íš, ì„¤ê³„ í•œ ë’¤ ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ê³¼ì •ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.
  - ì˜µì €ë²„ íŒ¨í„´, ì‹±ê¸€í†¤ íŒ¨í„´, íŒ©í† ë¦¬ íŒ¨í„´, ì¶”ìƒ í´ë˜ìŠ¤ íŒ¨í„´, ìƒíƒœ íŒ¨í„´, ì»¤ë§¨ë“œ íŒ¨í„´ ë“±ì„ ì‘ìš©í•´ì„œ ì„¤ê³„í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤.  
## ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½
  - ë¡œë¹„, ì „íˆ¬, ìƒì ì„ ê¸°ëŠ¥í•˜ëŠ” GameSystem ì„œë¸Œ í´ë˜ìŠ¤ë“¤ì„ ì œì‘í–ˆê³ , ëª¨ë“  Systemì„ ê´¸ë¦¬í•˜ëŠ” SystemContextê°€ Update í•¨ìˆ˜ë¥¼ í†µí•´ ì–´ëŠ GameSystem ì´ë“  ì‹¤í–‰í•˜ê³  í”Œë ˆì´ì–´ê°€ ë°©ì„ ì´ë™í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìœ¼ë©°, ê° System ì•ˆì—ëŠ” ì €ì¥ëœ SystemState ë³„ë¡œ ì›í•˜ëŠ” íƒ€ì´ë°ì— ì˜ë„í•œ ê¸°ëŠ¥ì„ í˜¸ì¶œí•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
  - í”Œë ˆì´ì–´ê°€ ìˆ˜ë™ ì „íˆ¬ë¥¼ ì§„í–‰í•˜ë©° ìŠ¤í‚¬ê³¼ ì•„ì´í…œì„ ììœ ë¡­ê²Œ ì‚¬ìš©í•˜ë©°, í˜„ì¬ ìì‹ ì˜ ìŠ¤íƒ¯ ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
  - í”Œë ˆì´ì–´ì—ê²Œ í„´ ì‹œìŠ¤í…œì„ ë¶€ì—¬í•˜ì—¬ ìŠ¤í‚¬ê³¼ ì•„ì´í…œì´ ì ìš©í•˜ëŠ” íš¨ê³¼ê°€ Turnì´ë¼ëŠ” Durationì„ ê°€ì§€ë„ë¡ ì„¤ê³„ ë° êµ¬í˜„ í•˜ì˜€ê³ , ì‚¬ìš©í•œ ìŠ¤í‚¬ì€ ì¼ì • Turn ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” CoolDown ì‹œìŠ¤í…œì„ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
  - ëª¨ë“  ì•„ì´í…œê³¼ ìŠ¤í‚¬ì„ ê´€ë¦¬í•˜ëŠ” Singleton ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ ê²Œì„ ì‹œì‘ì‹œ í”Œë ˆì´ì–´ì—ê²Œ Skillì„ ë¶€ì—¬í•  ë•Œ, ì „íˆ¬ì—ì„œ ìŠ¹ë¦¬í•˜ê³  í”Œë ˆì´ì–´ê°€  
 ### ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
 --- 
  - windows.h
  - iostream
  - vector
  - random
  - unordered_map
  - memory
  - sstream
  - limits
  - string
  - ctype.h
  - cctype
  - algorithm
  - functional
  - typeindex
  - regex
  - chrono
  - thread
  - iomanip  // std::setw, std::setprecision
 ---
## ê°œë°œ í™˜ê²½
  ---
  - IDE: Visual Studio 2022
  - Language : C++
  - Compiler : MSVC C++ 17
  - others: Git Desktop

### ê¸°ëŠ¥ì„¤ëª…
  - ì „ì²´ ì‹œìŠ¤í…œ í”Œë¡œìš° ì°¨íŠ¸
![Image](https://github.com/user-attachments/assets/a08c011c-f997-4643-b899-b0e1a9d912bb)
  - UML: https://lucid.app/lucidchart/b9180622-3661-4862-aa7a-6da03484a47f/edit?invitationId=inv_5c977377-3e9a-475c-99cc-0a27c18cc749&page=Qq6J2hiGBQnQ#
    
# ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…

## ëª©ì°¨

# ëª©ì°¨

1. [Event System](#event-systen)
   - [ê°œìš”](#ê°œìš”)
   - [ì£¼ìš” í´ë˜ìŠ¤](#ì£¼ìš”-í´ë˜ìŠ¤)
   - [ì‚¬ìš© ì˜ˆì‹œ](#ì‚¬ìš©-ì˜ˆì‹œ)
2. [Game ì‹œìŠ¤í…œ](#game-ì‹œìŠ¤í…œ)
   - [ê°œìš”](#ê°œìš”-1)
   - [ì£¼ìš” í´ë˜ìŠ¤](#ì£¼ìš”-í´ë˜ìŠ¤-1)
     - [SystemContext](#systemcontext)
     - [LobbySystem](#lobbysystem)
     - [LobbySystemState](#lobbysystemstate)
     - [BattleSystem](#battlesystem)
     - [BattleSystemState](#battlesystemstate)
     - [ShopSystem](#shopsystem)
   - [ì‚¬ìš© ì˜ˆì‹œ](#ì‚¬ìš©-ì˜ˆì‹œ-1)
3. [ìºë¦­í„° ì‹œìŠ¤í…œ](#ìºë¦­í„°-ì‹œìŠ¤í…œ)
   - [ê°œìš”](#ê°œìš”-2)
   - [ì£¼ìš” í´ë˜ìŠ¤](#ì£¼ìš”-í´ë˜ìŠ¤-2)
   - [ì‚¬ìš© ì˜ˆì‹œ](#ì‚¬ìš©-ì˜ˆì‹œ-2)
4. [ìŠ¤í‚¬ ì‹œìŠ¤í…œ](#ìŠ¤í‚¬-ì‹œìŠ¤í…œ)
   - [ê°œìš”](#ê°œìš”-3)
   - [ì£¼ìš” í´ë˜ìŠ¤](#ì£¼ìš”-í´ë˜ìŠ¤-3)
   - [ì‚¬ìš© ì˜ˆì‹œ](#ì‚¬ìš©-ì˜ˆì‹œ-3)
5. [ì¸í’‹ ì‹œìŠ¤í…œ](#ì¸í’‹-ì‹œìŠ¤í…œ)
   - [ê°œìš”](#ê°œìš”-4)
   - [ì£¼ìš” í´ë˜ìŠ¤](#ì£¼ìš”-í´ë˜ìŠ¤-4)
   - [ì‚¬ìš© ì˜ˆì‹œ](#ì‚¬ìš©-ì˜ˆì‹œ-4)
6. [ì•„ì´í…œ ì‹œìŠ¤í…œ](#ì•„ì´í…œ-ì‹œìŠ¤í…œ)
   - [ê°œìš”](#ê°œìš”-5)
   - [ì£¼ìš” í´ë˜ìŠ¤](#ì£¼ìš”-í´ë˜ìŠ¤-5)
   - [ì‚¬ìš© ì˜ˆì‹œ](#ì‚¬ìš©-ì˜ˆì‹œ-5)

## Event System

ì´ í”„ë¡œì íŠ¸ì˜ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì€ ë‹¤ì–‘í•œ ê²Œì„ ì´ë²¤íŠ¸ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ì‹œìŠ¤í…œì˜ ì£¼ìš” êµ¬ì„± ìš”ì†Œì™€ ì‚¬ìš©ë²•ì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤.

## ì½”ë“œ êµ¬ì¡°

```
ğŸ“‚ Project
â”œâ”€â”€ ğŸ“‚ Events
â”‚   â”œâ”€â”€ IEvent.h  
â”‚   â”œâ”€â”€ IEventTypes.h
â”‚   â”œâ”€â”€ CharacterEventTypes.h
â”‚   â”œâ”€â”€ ItemEventTypes.h
â”‚   â””â”€â”€ CombatEventTypes.h
â”œâ”€â”€ ğŸ“‚ Managers
â”‚   â”œâ”€â”€ GlobalEventManager.h
â”‚   â”œâ”€â”€ GlobalEventManager.cpp
â”‚   â”œâ”€â”€ IEventManagerSystem.h
â”‚   â””â”€â”€ UIEventManagerSystem.h
â””â”€â”€ main.cpp
```
![image](https://github.com/user-attachments/assets/d3bf07af-6427-4a3a-889d-f0f9ddefa5a3)

---

## ì£¼ìš” í´ë˜ìŠ¤ ë° êµ¬ì„± ìš”ì†Œ

### 1. `IEvent`
ëª¨ë“  ì´ë²¤íŠ¸ì˜ ê³µí†µ ë¶€ëª¨ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ëª¨ë“  ì´ë²¤íŠ¸ëŠ” `IEvent`ë¥¼ ìƒì†ë°›ì•„ ì •ì˜ë©ë‹ˆë‹¤.

```cpp
class IEvent {
public:
    virtual ~IEvent() = default;
};
```

### 2. `IEventManagerSystem`
ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  êµ¬ë…ì„ ê´€ë¦¬í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.

- **ì£¼ìš” ë©”ì„œë“œ**
  - `OnEvent`: ì „ë‹¬ë°›ì€ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
  - `Subscribe`: íŠ¹ì • ì´ë²¤íŠ¸ íƒ€ì…ì— ëŒ€í•œ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
  - `Publish`: ë“±ë¡ëœ ëª¨ë“  í•¸ë“¤ëŸ¬ì— ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

```cpp
class IEventManagerSystem {
public:
    virtual ~IEventManagerSystem() = default;

    virtual void OnEvent(std::shared_ptr<IEvent> _event) = 0;

    template<typename T>
    int Subscribe(std::function<void(T*)> _handler);

    void Publish(std::shared_ptr<IEvent> _event);
};
```

### 3. `GlobalEventManager`
ì „ì—­ì—ì„œ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ ê´€ë¦¬í•˜ëŠ” ì‹±ê¸€í†¤ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. êµ¬ë…, êµ¬ë… í•´ì œ, ì´ë²¤íŠ¸ ì•Œë¦¼ ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

- **ì£¼ìš” ë©”ì„œë“œ**
  - `Subscribe`: ìƒˆë¡œìš´ êµ¬ë…ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
  - `Unsubscribe`: êµ¬ë…ì„ í•´ì œí•©ë‹ˆë‹¤.
  - `Notify`: ëª¨ë“  êµ¬ë…ìì—ê²Œ ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

```cpp
class GlobalEventManager {
public:
    static GlobalEventManager& Get();

    int Subscribe(const std::shared_ptr<IEventManagerSystem>& _system);
    void Unsubscribe(int _subscriptionId);
    void Notify(std::shared_ptr<IEvent> _callEv);
};
```

### 4. ì´ë²¤íŠ¸ ì˜ˆì œ: `ICharacterDamagedEvent`
ìºë¦­í„°ê°€ ë°ë¯¸ì§€ë¥¼ ë°›ëŠ” ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.

```cpp
class ICharacterDamagedEvent : public IEvent {
public:
    std::string characterName;
    int damage;
    int hp;

    ICharacterDamagedEvent(const std::string& _name, int _dmg, int _hp)
        : characterName(_name), damage(_dmg), hp(_hp) {}
};
```

---

## ì‚¬ìš©ë²•

### 1. ì´ë²¤íŠ¸ êµ¬ë…
íŠ¹ì • ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.

```cpp
std::shared_ptr<IEventManagerSystem> eventSystem = std::make_shared<UIEventManagerSystem>();
GlobalEventManager::Get().Subscribe(eventSystem);

eventSystem->Subscribe<ICharacterDamagedEvent>([](ICharacterDamagedEvent* e) {
    std::cout << e->characterName << " received " << e->damage << " damage.\n";
});
```

### 2. ì´ë²¤íŠ¸ ë°œí–‰
ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•˜ê³  ë°œí–‰í•˜ì—¬ ëª¨ë“  êµ¬ë…ìê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```cpp
std::shared_ptr<ICharacterDamagedEvent> damageEvent = std::make_shared<ICharacterDamagedEvent>("Hero", 50, 450);
GlobalEventManager::Get().Notify(damageEvent);
```

### 3. ì´ë²¤íŠ¸ ì²˜ë¦¬
ë“±ë¡ëœ í•¸ë“¤ëŸ¬ëŠ” ë°œí–‰ëœ ì´ë²¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```cpp
void UIEventManagerSystem::OnEvent(std::shared_ptr<IEvent> ev) {
    Publish(ev);
}
```

---



---

## ì£¼ìš” íŠ¹ì§•

1. **ìœ ì—°í•œ ì´ë²¤íŠ¸ êµ¬ë… ë° ë°œí–‰**
   - íŠ¹ì • ì´ë²¤íŠ¸ íƒ€ì…ì— ëŒ€í•œ êµ¬ë…ê³¼ í•¸ë“¤ëŸ¬ ë“±ë¡ì´ ê°€ëŠ¥í•˜ë©°, íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

2. **ëª¨ë“ˆí™”ëœ ì„¤ê³„**
   - ì´ë²¤íŠ¸ ë° ì´ë²¤íŠ¸ ê´€ë¦¬ìëŠ” ë…ë¦½ì ìœ¼ë¡œ ì„¤ê³„ë˜ì–´ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

3. **ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì²˜ë¦¬**
   - ì´ë²¤íŠ¸ ë°œí–‰ ì‹œ, ë“±ë¡ëœ ëª¨ë“  í•¸ë“¤ëŸ¬ê°€ í˜¸ì¶œë˜ì–´ ì¦‰ê°ì ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

---

## í–¥í›„ ê°œì„  ì‚¬í•­

- ì´ë²¤íŠ¸ ì²˜ë¦¬ì˜ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ë¹„ë™ê¸° ì²˜ë¦¬ ê¸°ëŠ¥ ì¶”ê°€
- ì´ë²¤íŠ¸ ë¡œê·¸ ì‹œìŠ¤í…œ êµ¬í˜„
- ì´ë²¤íŠ¸ ê°„ ì˜ì¡´ì„± ê´€ë¦¬ ë° ìš°ì„ ìˆœìœ„ ì²˜ë¦¬ ê¸°ëŠ¥ ì¶”ê°€
- í˜„ì¬ ì‹œìŠ¤í…œì—ì„œëŠ” ë‹¤ìˆ˜ì˜ ê²Œì„ ë¡œì§ì´ ì´ë²¤íŠ¸ì™€ ê°•í•˜ê²Œ ì—°ê²°ë˜ì–´ ìˆì–´, ì—ëŸ¬ ë°œìƒ ì‹œ ë””ë²„ê¹… ê³¼ì •ì—ì„œ í˜¸ì¶œ ìœ„ì¹˜ì™€ ë°©ë²•ì„ ì¶”ì í•˜ëŠ” ë° ì–´ë ¤ì›€ì´ ìˆìŠµë‹ˆë‹¤.

---

## ìºë¦­í„° ì‹œìŠ¤í…œ 

- ìºë¦­í„° ì‹œìŠ¤í…œì€ í”Œë ˆì´ì–´, ëª¬ìŠ¤í„°, ë³´ìŠ¤ ë“± ë‹¤ì–‘í•œ ìºë¦­í„° íƒ€ì…ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ ëª¨ë“ˆì…ë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ìŠ¤íƒ¯, ìŠ¤í‚¬, ì „íˆ¬ ë©”ì»¤ë‹ˆì¦˜ ë° ë³´ìƒ ê´€ë¦¬ë¥¼ ëª¨ë“ˆì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©°, í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ì—¼ë‘ì— ë‘ê³  ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

---
##í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

![image](https://github.com/user-attachments/assets/bb0d8961-b49d-4493-861a-71fed4931fb9)

![image](https://github.com/user-attachments/assets/ae78ced7-0324-4824-b3f6-e495b9a9f84e)


### ì£¼ìš” ê¸°ëŠ¥

### ëª¨ë“ˆí˜• ë””ìì¸
- **ìŠ¤íƒ¯ ê´€ë¦¬**: `UStatsComponent`ë¥¼ í†µí•´ HP, MP, ê³µê²©ë ¥ ë“± ìºë¦­í„°ì˜ ìŠ¤íƒ¯ì„ ì¤‘ì•™ì—ì„œ ê´€ë¦¬.
- **ì „íˆ¬ ì‹œìŠ¤í…œ**: ê³µê²© ë° ë°©ì–´ ì „ëµì„ í¬í•¨í•˜ì—¬ ë‹¤ì–‘í•œ ê²Œì„ í”Œë ˆì´ ë©”ì»¤ë‹ˆì¦˜ ì œê³µ.
- **ìŠ¤í‚¬ í†µí•©**: `USkillComponent`ë¥¼ í†µí•´ ê° ìºë¦­í„°ì— ê³ ìœ í•œ ìŠ¤í‚¬ ì¶”ê°€ ê°€ëŠ¥.
- **ë³´ìƒ ì‹œìŠ¤í…œ**: ëª¬ìŠ¤í„° ì²˜ì¹˜ ì‹œ ë³´ìƒ ìƒì„±, ìºë¦­í„° íƒ€ì…ë³„ë¡œ ë§ì¶¤ ì„¤ì • ê°€ëŠ¥.

### JSON í†µí•©
- **ë°ì´í„° ê¸°ë°˜ ë””ìì¸**: JSON íŒŒì¼ì—ì„œ ìŠ¤íƒ¯ê³¼ ë³´ìƒì„ ë¡œë“œ ë° ì €ì¥í•˜ì—¬ ì½”ë“œ ìˆ˜ì • ì—†ì´ ìºë¦­í„° êµ¬ì„± ì—…ë°ì´íŠ¸ ê°€ëŠ¥.

### í™•ì¥ì„±
- ìƒˆë¡œìš´ ìºë¦­í„° íƒ€ì…, ì „ëµ ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì‰½ê²Œ í†µí•© ê°€ëŠ¥.

---

### í•µì‹¬ í´ë˜ìŠ¤ ë° ì»´í¬ë„ŒíŠ¸

### 1. Character (ê¸°ë³¸ í´ë˜ìŠ¤)
`Character` í´ë˜ìŠ¤ëŠ” ëª¨ë“  ì—”í‹°í‹°ì˜ ê¸°ë³¸ì´ ë˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ê³µí†µ ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ë©°, ë‹¤ìŒ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

- **ì´ˆê¸°í™”**: ìŠ¤íƒ¯, ì „íˆ¬, ìŠ¤í‚¬, ìƒíƒœ ì»´í¬ë„ŒíŠ¸ ì„¤ì •.
- **ë³´ìƒ ìƒì„±**: ì‚¬ë§ ì‹œ ë³´ìƒì„ ìƒì„±í•˜ëŠ” ë¡œì§.
- **ì •ë³´ í‘œì‹œ**: ìŠ¤íƒ¯ ë° ìºë¦­í„° ì •ë³´ë¥¼ ì¶œë ¥.

#### ì£¼ìš” ë©¤ë²„
- `displayName`: ê²Œì„ì— í‘œì‹œë˜ëŠ” ì´ë¦„. ì˜ˆë¥¼ ë“¤ì–´, JSON íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì˜¨ ìºë¦­í„°ì˜ ì´ë¦„ì´ "Slime"ì´ë¼ë©´, `displayName`ì€ í™”ë©´ì— "ìŠ¬ë¼ì„"ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
- `statManager`: ìŠ¤íƒ¯ ê´€ë¦¬ (HP, MP, ê³µê²©ë ¥ ë“±).
- `combatManager`: ì „íˆ¬ ë¡œì§ ê´€ë¦¬.
- `skillManager`: ìºë¦­í„° ìŠ¤í‚¬ ê´€ë¦¬.
- `statusManager`: ìƒíƒœ íš¨ê³¼ ê´€ë¦¬.

---

### 2. Player (íŒŒìƒ í´ë˜ìŠ¤)
`Player` í´ë˜ìŠ¤ëŠ” `Character`ë¥¼ ìƒì†ë°›ì•„ í”Œë ˆì´ì–´ ìºë¦­í„°ì˜ ê³ ìœ  ê¸°ëŠ¥ì„ ì¶”ê°€ë¡œ ì œê³µí•©ë‹ˆë‹¤.

#### ì£¼ìš” ê¸°ëŠ¥
- **ì¸ë²¤í† ë¦¬ ê´€ë¦¬**: `Inventory`ì™€ í†µí•©í•˜ì—¬ ì•„ì´í…œ ê´€ë¦¬.
- **ì•„ì´í…œ ì‚¬ìš©**: í”Œë ˆì´ì–´ë‚˜ ë‹¤ë¥¸ ìºë¦­í„°ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì•„ì´í…œ ì‚¬ìš© ê°€ëŠ¥.

---

### 3. Monster (íŒŒìƒ í´ë˜ìŠ¤)
`Monster` í´ë˜ìŠ¤ëŠ” í”Œë ˆì´ì–´ê°€ ì•„ë‹Œ ìºë¦­í„°ë¥¼ ë‚˜íƒ€ë‚´ë©°, ë™ì ìœ¼ë¡œ ìŠ¤íƒ¯ì„ ì¡°ì •í•˜ê³  ë³´ìŠ¤ë¥¼ ì„¤ì •í•˜ëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.

#### ì£¼ìš” ê¸°ëŠ¥
- **ë™ì  ìŠ¤íƒ¯ ì¡°ì •**: í”Œë ˆì´ì–´ ë ˆë²¨ì— ë”°ë¼ ìŠ¤íƒ¯ ìë™ ì¡°ì •.
- **ë³´ìŠ¤ ì‹ë³„**: íŠ¹ì • ëª¬ìŠ¤í„°ëŠ” ë³´ìŠ¤ë¡œ ì„¤ì •ë˜ì–´ ë” í° ë„ì „ê³¼ ë³´ìƒì„ ì œê³µ.

---

### 4. UStatsComponent
ëª¨ë“  ìºë¦­í„°ì˜ ìŠ¤íƒ¯ì„ ê´€ë¦¬í•˜ë©°, ì´ˆê¸°í™”, ë³€ê²½ ë° ê²½ê³„ê°’ ì œí•œì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

#### ì£¼ìš” ê¸°ëŠ¥
- **ë™ì  ìŠ¤íƒ¯ ì¡°ì •**: HP, MP, ê³µê²©ë ¥ ë“±ì˜ ìŠ¤íƒ¯ì„ ë™ì ìœ¼ë¡œ ìˆ˜ì •.
- **ê²½í—˜ì¹˜ ë° ë ˆë²¨ ì—…**: ê²½í—˜ì¹˜ ì¦ê°€ë¥¼ ì²˜ë¦¬í•˜ê³  ë ˆë²¨ ì—… ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬.
- **ì‚¬ë§ ì²˜ë¦¬**: ìºë¦­í„°ê°€ ì‚¬ë§í–ˆì„ ë•Œ ì ì ˆí•œ ì´ë²¤íŠ¸ë¥¼ íŠ¸ë¦¬ê±°.

---

### 5. UCombatComponent
ìºë¦­í„° ê°„ ì „íˆ¬ ìƒí˜¸ì‘ìš©ì„ ê´€ë¦¬í•˜ë©°, ê³µê²© ë° ë°©ì–´ ì „ëµì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

#### ì£¼ìš” ê¸°ëŠ¥
- **ê³µê²© ì „ëµ**: `BasicAttackStrategy`ì™€ ê°™ì€ ë‹¤ì–‘í•œ ê³µê²© ë°©ì‹ ì œê³µ.
- **ë°©ì–´ ì „ëµ**: `BlockDefenseStrategy`ì™€ ê°™ì€ ë‹¤ì–‘í•œ ë°©ì–´ ë°©ì‹ ì œê³µ.
- **í”¼í•´ ê³„ì‚°**: ë°©ì–´ ì „ëµì„ ì ìš©í•˜ì—¬ ìµœì¢… í”¼í•´ ê²°ì •.

---

### 6. StatsLoader
JSON í†µí•©ì„ ë‹´ë‹¹í•˜ë©°, ìŠ¤íƒ¯ê³¼ ë³´ìƒì„ ë¡œë“œ ë° ì €ì¥í•©ë‹ˆë‹¤.

#### ì£¼ìš” ê¸°ëŠ¥
- **ìŠ¤íƒ¯ ë¡œë“œ**: JSON íŒŒì¼ì—ì„œ ìºë¦­í„°ì˜ ìŠ¤íƒ¯ ë°ì´í„°ë¥¼ ë¡œë“œ.
- **ë³´ìƒ ë¡œë“œ**: ëª¬ìŠ¤í„°ì˜ íŠ¹ì • ë³´ìƒì„ ë¡œë“œ.
- **ìŠ¤íƒ¯ ì €ì¥**: ìˆ˜ì •ëœ ìŠ¤íƒ¯ì„ JSON íŒŒì¼ì— ì €ì¥.

---

## ì‚¬ìš© ì˜ˆì‹œ

1. **ìºë¦­í„° ì´ˆê¸°í™”**:
   - `Player`ì™€ `Monster` ì¸ìŠ¤í„´ìŠ¤ê°€ `Initialize()`ë¥¼ í˜¸ì¶œí•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ì„¤ì • ë° JSONì—ì„œ ìŠ¤íƒ¯ì„ ë¡œë“œ.
   - JSON í˜•ì‹ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ ë°©ì§€í•˜ë ¤ë©´ JSON íŒŒì¼ì´ ì˜¬ë°”ë¥¸ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ ì‚¬ì „ì— ê²€ì¦í•˜ëŠ” ì ˆì°¨ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ë””ë²„ê¹… ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ì—¬ ë¬¸ì œë¥¼ íŒŒì•…í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. **ì „íˆ¬ ìƒí˜¸ì‘ìš©**:
   - ìºë¦­í„°ëŠ” ê³µê²© ë° ë°©ì–´ ì „ëµì„ í™œìš©í•˜ì—¬ ì „íˆ¬ ìˆ˜í–‰.
   - ìŠ¤íƒ¯ ë° ì „ëµì— ë”°ë¼ ë™ì ìœ¼ë¡œ í”¼í•´ ê³„ì‚°.
3. **ë³´ìƒ**:
   - ëª¬ìŠ¤í„°ë¥¼ ì²˜ì¹˜í•˜ë©´ ê³¨ë“œ, ê²½í—˜ì¹˜, ì•„ì´í…œ ë“±ì˜ ë³´ìƒì´ ìƒì„±.

---

## JSON êµ¬ì¡°

ëª¨ë“  ìºë¦­í„°ì˜ ìŠ¤íƒ¯ê³¼ ë³´ìƒì€ ê°„ë‹¨í•˜ê³  ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ JSON í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ì˜ˆì œ:

```json
{
  "Characters": {
    "Player": {
      "Stats": {
        "HP": 100,
        "MaxHP": 100,
        "MP": 50,
        "MaxMP": 50,
        "AttackPower": 10,
        "Defense": 5,
        "CriticalChance": 0.05,
        "EvasionRate": 0.0,
        "Level": 1,
        "Experience": 0,
        "MaxExperience": 100
      },
      "AttackStrategy": {
        "Type": "BasicAttack"
      },
      "DefenseStrategy": {
        "Type": "BlockDefense"
      }
    },
    "Slime": {
      "Stats": {
        "HP": 20,
        "MaxHP": 20,
        "AttackPower": 5,
        "Defense": 1
      },
      "Rewards": {
        "Experience": 200,
        "Gold": 50
      }
    }
  }
}
```

---

## ì‹œìŠ¤í…œ í™•ì¥ ë°©ë²•

1. **ìƒˆë¡œìš´ ìºë¦­í„° íƒ€ì… ì¶”ê°€**:
   - `Character`ë¥¼ ìƒì†ë°›ëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³  í•„ìš”í•œ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ.
2. **ë§ì¶¤ ì „ëµ êµ¬í˜„**:
   - `IAttackStrategy` ë˜ëŠ” `IDefenseStrategy`ë¥¼ êµ¬í˜„í•˜ëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ìƒì„±.
3. **JSON ì—…ë°ì´íŠ¸**:
   - ìƒˆë¡œìš´ ìºë¦­í„°ì— ëŒ€í•œ ìŠ¤íƒ¯ê³¼ ë³´ìƒì„ JSON íŒŒì¼ì— ì •ì˜.

[[ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°]](#ëª©ì°¨)

---
## ìŠ¤í‚¬ ì‹œìŠ¤í…œ ë¬¸ì„œ

## ê°œìš”
ì´ í”„ë¡œì íŠ¸ì˜ **ìŠ¤í‚¬ ì‹œìŠ¤í…œ**ì€ ìºë¦­í„°ì˜ ìŠ¤í‚¬ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê°•ë ¥í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì•¡í‹°ë¸Œ ìŠ¤í‚¬ê³¼ íŒ¨ì‹œë¸Œ ìŠ¤í‚¬, ìŠ¤í‚¬ ì¡°ê±´, íš¨ê³¼, í–‰ë™ì„ ì§€ì›í•˜ë©°, ëª¨ë“ˆì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ê·¹ëŒ€í™”í•˜ì—¬ ë‹¤ë¥¸ ë¶€ë¶„ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³ ë„ ìŠ¤í‚¬ì„ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ëª©í‘œ

ì´ ìŠ¤í‚¬ ì‹œìŠ¤í…œì€ ê°•ë ¥í•˜ê³  ìœ ì—°í•˜ê²Œ ì„¤ê³„ë˜ì–´, ë‹¤ì–‘í•œ ê¸°íš ì˜ë„ì— ë§ì¶° ìŠ¤í‚¬ì„ ì†ì‰½ê²Œ ìƒì„±í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

---

## ì£¼ìš” êµ¬ì„± ìš”ì†Œ

### 1. **ìŠ¤í‚¬ í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°**
ìŠ¤í‚¬ ì‹œìŠ¤í…œì˜ í•µì‹¬ í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë©ë‹ˆë‹¤:
- **Skill**: ëª¨ë“  ìŠ¤í‚¬ì˜ ê¸°ë³¸ í´ë˜ìŠ¤.
  - **ActiveSkill**: ìºë¦­í„°ê°€ ëŠ¥ë™ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìŠ¤í‚¬.
  - **PassiveSkill**: íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ìë™ìœ¼ë¡œ ë°œë™ë˜ëŠ” ìŠ¤í‚¬.
 
![image](https://github.com/user-attachments/assets/9f95f6a4-675f-444a-abc4-5d19fc956370)


#### ìŠ¤í‚¬ ë°ì´í„° êµ¬ì¡°
ìŠ¤í‚¬ì€ `FSkillData` êµ¬ì¡°ì²´ë¡œ í‘œí˜„ë©ë‹ˆë‹¤:
```cpp
struct FSkillData {
    std::string skillName;          // ìŠ¤í‚¬ ì´ë¦„
    std::string skillDescription;   // ìŠ¤í‚¬ ì„¤ëª…
    int mpCost;                     // ë§ˆë‚˜ ë¹„ìš©
    int maxCooldown;                // ìµœëŒ€ ì¿¨íƒ€ì„(í„´)
    int currentCooldown;            // í˜„ì¬ ì¿¨íƒ€ì„
    Character* owner;               // ìŠ¤í‚¬ ì†Œìœ ì
    std::shared_ptr<ISkillAction> action;        // ìŠ¤í‚¬ì´ ìˆ˜í–‰í•˜ëŠ” ì•¡ì…˜
    std::vector<std::shared_ptr<ISkillEffect>> effects; // ìŠ¤í‚¬ì˜ íš¨ê³¼ë“¤
    std::vector<std::shared_ptr<ISkillCondition>> conditions; // ìŠ¤í‚¬ ì¡°ê±´
};
```

---

### 2. **ìŠ¤í‚¬ ì¡°ê±´**
ìŠ¤í‚¬ ì¡°ê±´ì€ ìŠ¤í‚¬ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. êµ¬í˜„ëœ ì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
- **ManaCondition**: ìºë¦­í„°ê°€ ì¶©ë¶„í•œ ë§ˆë‚˜ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸.
- **CooldownCondition**: ìŠ¤í‚¬ì´ ì¿¨íƒ€ì„ ìƒíƒœê°€ ì•„ë‹Œì§€ í™•ì¸.
- **AliveCondition**: ëŒ€ìƒì´ ì‚´ì•„ ìˆëŠ”ì§€ í™•ì¸.
- **StunCondition**: ì†Œìœ ìê°€ ê¸°ì ˆ ìƒíƒœê°€ ì•„ë‹Œì§€ í™•ì¸.

ê° ì¡°ê±´ì€ `ISkillCondition` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤:
```cpp
class ISkillCondition {
public:
    virtual ~ISkillCondition() = default;
    virtual bool Check(Skill* checkSkill) = 0; // ì¡°ê±´ í™•ì¸
    virtual void CannotUseSkill() = 0;        // ì¡°ê±´ ì‹¤íŒ¨ ì‹œ í˜¸ì¶œ
};
```
![image](https://github.com/user-attachments/assets/fd6bbdf4-580c-4ec7-bd20-0663386967e3)


---

### 3. **ìŠ¤í‚¬ ì•¡ì…˜**
ì•¡ì…˜ì€ ìŠ¤í‚¬ì´ ì‚¬ìš©ë  ë•Œ ì‹¤í–‰ë˜ëŠ” ë™ì‘ì„ ì •ì˜í•©ë‹ˆë‹¤. ì˜ˆì‹œ:
- **NormalAttackAction**: ì¼ë°˜ ê³µê²© ì‹¤í–‰.
- **AttackAction**: ì§€ì •ëœ í”¼í•´ëŸ‰ì„ ê°€í•¨.
- **PoisonTriggerAction**: ëŒ€ìƒì˜ ë… ìŠ¤íƒì„ í­ë°œì‹œí‚´.
- **GlacialShardAction**: í”¼í•´ë¥¼ ì…íˆê³  ë°©ì–´ë ¥ì„ ê°ì†Œì‹œí‚´.

ê° ì•¡ì…˜ì€ `ISkillAction` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤:
```cpp
class ISkillAction {
public:
    virtual ~ISkillAction() = default;
    virtual void ExecuteAction() = 0; // ì•¡ì…˜ ì‹¤í–‰
};
```

![image](https://github.com/user-attachments/assets/7f2c9551-811c-44df-a054-0978c92e7db9)



---

### 4. **ìŠ¤í‚¬ íš¨ê³¼**
íš¨ê³¼ëŠ” ìŠ¤í‚¬ ì‚¬ìš© ì‹œ ì¶”ê°€ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ê²°ê³¼ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜ˆì‹œ:
- **IBuffEffect**: ë²„í”„ ë˜ëŠ” ë””ë²„í”„ ì ìš©.
- **IPoisonEffect**: ë… ìŠ¤íƒ ì¶”ê°€.
- **IHealingEffect**: ì²´ë ¥ íšŒë³µ.
- **IUnbreakableEffect**: ì¼ì‹œì ì¸ ë¬´ì  ìƒíƒœ ë¶€ì—¬.

ê° íš¨ê³¼ëŠ” `ISkillEffect` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤:
```cpp
class ISkillEffect {
public:
    virtual ~ISkillEffect() = default;
    virtual void PreEffect() = 0;  // ë©”ì¸ ì•¡ì…˜ ì‹¤í–‰ ì „ ì‹¤í–‰
    virtual void PostEffect() = 0; // ë©”ì¸ ì•¡ì…˜ ì‹¤í–‰ í›„ ì‹¤í–‰
};
```


![image](https://github.com/user-attachments/assets/2022ea98-db54-4d9e-8749-b9a0def00bba)


---

### 5. **ìŠ¤í‚¬ ë§¤ë‹ˆì €**
`SkillManager`ëŠ” ì‹±ê¸€í†¤ í´ë˜ìŠ¤ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:
- ìŠ¤í‚¬ ë“±ë¡ ë° ìƒì„±.
- ìºë¦­í„°ì—ê²Œ ìŠ¤í‚¬ í• ë‹¹.
- ê³ ìœ í•˜ê±°ë‚˜ ëœë¤í•œ ìŠ¤í‚¬ í• ë‹¹ ë³´ì¥.

#### ìŠ¤í‚¬ ë“±ë¡
ìŠ¤í‚¬ì€ íŒ©í† ë¦¬ íŒ¨í„´ì„ ì‚¬ìš©í•´ ë“±ë¡ë©ë‹ˆë‹¤:
```cpp
void RegisterSkill() {
    skillFactory[typeid(T)] = [](Character* owner) -> std::shared_ptr<Skill> {
        return std::make_shared<T>(owner);
    };
}
```

#### ì‚¬ìš© ì˜ˆì‹œ
```cpp
SkillManager::GetInstance().RegisterSkill<PoisonInfusion>();
SkillManager::GetInstance().AddRandomSkillToCharacter(playerCharacter, SkillType::ACTIVE);
```

---

### 6. **ìŠ¤í‚¬ ì»´í¬ë„ŒíŠ¸**
ê° ìºë¦­í„°ëŠ” `USkillComponent`ë¥¼ ê°€ì§€ë©°:
- ì•¡í‹°ë¸Œ ìŠ¤í‚¬ê³¼ íŒ¨ì‹œë¸Œ ìŠ¤í‚¬ì„ ì €ì¥.
- ìŠ¤í‚¬ ì‚¬ìš© ë° ì¿¨íƒ€ì„ ê´€ë¦¬.
- ì´ë²¤íŠ¸ë¥¼ í†µí•´ íŒ¨ì‹œë¸Œ ìŠ¤í‚¬ íŠ¸ë¦¬ê±° ì²˜ë¦¬.

#### ìŠ¤í‚¬ ì‚¬ìš©
```cpp
bool USkillComponent::UseSkill(const std::string& skillName, SkillType skillType) {
    auto skillList = ChooseSkillList(skillType);
    if (skillList.count(skillName)) {
        return skillList[skillName]->UseSkill();
    }
    return false;
}
```

---

## ìŠ¤í‚¬ ì˜ˆì‹œ

### ì•¡í‹°ë¸Œ ìŠ¤í‚¬: Poison Infusion
ëŒ€ìƒì˜ ë… ìŠ¤íƒì„ ë‘ ë°°ë¡œ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
```cpp
PoisonInfusion::PoisonInfusion(Character* owner) : ActiveSkill(owner) {
    skillData = FSkillData(owner, "Poison Infusion", "ëŒ€ìƒì˜ ë… ìŠ¤íƒì„ ë‘ ë°°ë¡œ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.", 0, 2);
    skillData.action = std::make_shared<PoisonIntensifierAction>();
    skillData.conditions = { std::make_shared<CooldownCondition>(), std::make_shared<AliveCondition>() };
    SkillInit(this);
}
```

### íŒ¨ì‹œë¸Œ ìŠ¤í‚¬: Mana Mastery
ë°›ì€ í”¼í•´ëŸ‰ì˜ 10%ë§Œí¼ ë§ˆë‚˜ë¥¼ íšŒë³µí•©ë‹ˆë‹¤.
```cpp
ManaMastery::ManaMastery(Character* owner) : PassiveSkill(owner) {
    skillData = FSkillData(owner, "Mana Mastery", "ë°›ì€ í”¼í•´ëŸ‰ì˜ 10%ë§Œí¼ ë§ˆë‚˜ë¥¼ íšŒë³µí•©ë‹ˆë‹¤.", 0, 0);
    handlers.insert(typeid(ICharacterDamagedEvent));
    SkillInit(this);
}
```

---

## ì£¼ìš” íŠ¹ì§•
1. **ëª¨ë“ˆí™” ì„¤ê³„**: ê° ìŠ¤í‚¬, ì•¡ì…˜, íš¨ê³¼ê°€ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„ë¨.
2. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ìŠ¤í‚¬ê³¼ íš¨ê³¼ë¥¼ ìµœì†Œí•œì˜ ì½”ë“œ ë³€ê²½ìœ¼ë¡œ ì¶”ê°€ ê°€ëŠ¥.
3. **ì´ë²¤íŠ¸ ê¸°ë°˜ íŠ¸ë¦¬ê±°**: íŒ¨ì‹œë¸Œ ìŠ¤í‚¬ì´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ ë°œë™.
4. **ì¬ì‚¬ìš©ì„±**: ì¡°ê±´ ë° íš¨ê³¼ ë“± ê³µìœ  ê°€ëŠ¥í•œ êµ¬ì„± ìš”ì†Œë¡œ ì¤‘ë³µ ê°ì†Œ.

---

## ìƒˆë¡œìš´ ìŠ¤í‚¬ ì¶”ê°€ ë°©ë²•
1. **ìŠ¤í‚¬ ì •ì˜**: `ActiveSkill` ë˜ëŠ” `PassiveSkill`ì—ì„œ íŒŒìƒëœ ìƒˆ í´ë˜ìŠ¤ êµ¬í˜„.
2. **ìŠ¤í‚¬ ë°ì´í„° ì„¤ì •**: ì´ë¦„, ì„¤ëª…, ë¹„ìš©, ê¸°íƒ€ ì†ì„±ì„ ìƒì„±ìì—ì„œ ì„¤ì •.
3. **ì¡°ê±´ ë° íš¨ê³¼ ì¶”ê°€**: ìŠ¤í‚¬ ì‚¬ìš© ì¡°ê±´ê³¼ íš¨ê³¼ ì •ì˜.
4. **ìŠ¤í‚¬ ë“±ë¡**: `SkillManager`ì— ì¶”ê°€.
```cpp
SkillManager::GetInstance().RegisterSkill<NewSkill>();
```
5. **ìŠ¤í‚¬ í• ë‹¹**: `AddSkill` ë˜ëŠ” `AddRandomSkillToCharacter`ë¥¼ ì‚¬ìš©í•´ ìºë¦­í„°ì— í• ë‹¹.

[[ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°]](#ëª©ì°¨)


---


## ìƒíƒœ ì‹œìŠ¤í…œ ë¬¸ì„œ

## ê°œìš”
**ìƒíƒœ ì‹œìŠ¤í…œ**ì€ ìºë¦­í„°ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ í™•ì¥ ê°€ëŠ¥í•œ í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
ê° ìƒíƒœëŠ” ëª¨ë“ˆì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ê·¹ëŒ€í™”í•˜ì—¬ ë‹¤ë¥¸ ë¶€ë¶„ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³ ë„ ìƒíƒœë¥¼ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ëª©í‘œ

ìƒíƒœ ì‹œìŠ¤í…œì€ ì†ì‰½ê²Œ ìƒì„±í•˜ê³  êµ¬í˜„í•´ì„œ ì›í•˜ëŠ” ìŠ¤í‚¬ íš¨ê³¼ì— ë„£ì–´ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## ì£¼ìš” êµ¬ì„± ìš”ì†Œ

### 1. **ìƒíƒœ í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°**
ìƒíƒœ ì‹œìŠ¤í…œì˜ í•µì‹¬ í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë©ë‹ˆë‹¤.
- **UStatusComponent**: ìºë¦­í„°ì— ëŒ€í•´ ìƒíƒœ ì¶”ê°€ ë° ì œê±° ë“± ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” í´ë˜ìŠ¤
 - **ICharacterStatus**: ëª¨ë“  ìƒíƒœì˜ ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤

	- ìƒíƒœ íš¨ê³¼ ì ìš©(ëŒ€ë¯¸ì§€, ë²„í”„, ë””ë²„í”„ ë“±)
	- ë§¤ í„´ë§ˆë‹¤ ì§€ì† ì‹œê°„ ê°ì†Œ
	- ìƒíƒœê°€ ë§Œë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
	- ìƒíƒœê°€ ì œê±°ë˜ê¸° ì „ì— í˜¸ì¶œ (ìŠ¤íƒ¯ ë³µêµ¬ ë¡œì§ ë“±)
	- ìƒíƒœ ì´ë¦„ ë°˜í™˜
	- ì§€ì† ì‹œê°„ ë°˜í™˜
	- ì§€ì† ì‹œê°„ ì„¤ì •
	- ìƒíƒœ ìŠ¤íƒ ì¶”ê°€
	- ìƒíƒœ ì´ë¦„
	- ìƒíƒœ ì§€ì† ì‹œê°„
	- ìƒíƒœ ìŠ¤íƒ

```cpp

class ICharacterState
{
public:
	ICharacterState(const string& _inStateName, int _inDuration) : stateName(_inStateName), duration(_inDuration);
	virtual ~ICharacterState();
	virtual void ApplyEffect(Character* _target) = 0;
	virtual void TickDuration();
	virtual bool IsExpired() const;
	virtual void EffectBeforeRemove();
	virtual const std::string& GetStateName() const;
	virtual int GetDuration() const;
	virtual void SetDuration(int _newDuration);
	virtual void ApplyStack(int _newStack);
protected:
	string stateName;
	int duration;
public:
	int currentStack = 1;
};

```

### ìƒíƒœ êµ¬ì¡°
ìƒíƒœëŠ” ì´ë¦„, ì§€ì†ì‹œê°„, ìŠ¤íƒì„ ê¸°ë³¸ìœ¼ë¡œ ê° í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ìƒíƒœ íš¨ê³¼ë¥¼ êµ¬í˜„ í•©ë‹ˆë‹¤.

---

### 2. **ìƒíƒœ ë°œìƒ íë¦„**
ìƒíƒœëŠ” ìŠ¤í‚¬ ë‚´ë¶€ íš¨ê³¼ ë°œìƒ ë¶€ë¶„ì—ì„œ ëŒ€ìƒ ìºë¦­í„°ì— ì ìš©ë˜ê³  ìƒíƒœì— ë”°ë¼ ì¦‰ì‹œ í˜¹ì€ í„´ì´ ëë‚˜ëŠ” ì‹œì  ë“± ë‹¤ì–‘í•œ ì‹œê¸°ì— íš¨ê³¼ê°€ ë°œìƒ í•©ë‹ˆë‹¤.

### ìŠ¤í‚¬ ì‚¬ìš© -> ìŠ¤í‚¬ ì•¡ì…˜ ì´ì „ íš¨ê³¼ ë°œìƒ(**ìƒíƒœ íš¨ê³¼ ë¶€ì—¬ ê°€ëŠ¥**) -> ìŠ¤í‚¬ ì•¡ì…˜  ë°œìƒ
### 	      -> ìŠ¤í‚¬ ì•¡ì…˜ ì´í›„ íš¨ê³¼ ë°œìƒ(**ìƒíƒœíš¨ê³¼ ë¶€ì—¬ ê°€ëŠ¥**)

---

### 3. **êµ¬í˜„ëœ ìƒíƒœ íš¨ê³¼**
- **BurnState**: í™”ìƒ ìƒíƒœ => ì§€ì† ì‹œê°„ ë™ì•ˆ ì¼ì •í•œ í™”ìƒ í”¼í•´ë¥¼ ì…í˜.

- **ModifyDefenseState**: ë°©ì–´ë ¥ ì¦ê° ìƒíƒœ => ì§€ì† ì‹œê°„ ë™ì•ˆ ë°©ì–´ë ¥ì´ ì¦ê°€ í•˜ê±°ë‚˜ ê°ì†Œ.

- **StunState**: ê¸°ì ˆ ìƒíƒœ => ì§€ì† ì‹œê°„ ë™ì•ˆ ê¸°ì ˆì´ ê±¸ë ¤ì„œ í–‰ë™ì´ ë¶ˆê°€í•¨.

- **PoisonState**: ì¤‘ë… ìƒíƒœ => ì§€ì† ì‹œê°„ ë™ì•ˆ **ì¤‘ì²©ëœ ìŠ¤íƒ**ì— ë¹„ë¡€í•œ ë… í”¼í•´ë¥¼ ì…í˜.

- **UnbreakableState**: ë¶ˆêµ´ ìƒíƒœ => ì£½ìŒì— ì´ë¥´ëŠ” í”¼í•´ë¥¼ ì…ì—ˆì„ ê²½ìš° ì§€ì† ì‹œê°„ ë™ì•ˆ ì²´ë ¥ì„ 1ë¡œ ê³ ì •í•˜ê³  ì§€ì† ì‹œê°„ ë‚´ë¡œ ì ì„ ì²˜ì¹˜ì‹œ ì²´ë ¥ì„ 20íšŒë³µí•˜ê³  ë¶ˆêµ´ ìƒíƒœë¥¼ í•´ì œ. ì§€ì† ì‹œê°„ ë‚´ë¡œ ì ì„ ì²˜ì¹˜í•˜ì§€ ëª»í–ˆì„ ê²½ìš° ë¶ˆêµ´ ìƒíƒœë¥¼ í•´ì œí•˜ê³  ì‚¬ë§.

- **ModifyStatState**: ìŠ¤íƒ¯ ìˆ˜ì • ìƒíƒœ => ì§€ì† ì‹œê°„ ë™ì•ˆ ìŠ¤íƒ¯ì´ ì¦ê°€ í•˜ê±°ë‚˜ ê°ì†Œ.

- **CursedSealState**: ì €ì£¼ ìƒíƒœ => ì§€ì† ì‹œê°„ ë™ì•ˆ ì¼ì •í•œ í”¼í•´ë¥¼ ì…í˜.

- **SanctificationState**: ì‹ ì„±í™” ìƒíƒœ => ì§€ì† ì‹œê°„ ë™ì•ˆ ì‹œì „ìëŠ” ê³µê²©ë ¥, ë°©ì–´ë ¥, íšŒí”¼ë ¥ì´ ì¦ê°€, ì ì€ ê° ìŠ¤íƒ¯ ê°ì†Œ.

- **RageState**: ë¶„ë…¸ ìƒíƒœ => í•œ í„´ ì•„ë¬´ ê²ƒë„ í•˜ì§€ ì•Šê³ , ë‹¤ìŒ í•œ í„´ ê¸°ë³¸ ê³µê²©ì— ê³µê²©ë ¥ì˜ 500% í”¼í•´ë¥¼ ì…í˜.

## ìŠ¤í‚¬ íš¨ê³¼ì— ìƒíƒœ ì ìš© ì˜ˆì‹œ

### IPoisionEffect : ì¤‘ë… íš¨ê³¼
ì¤‘ë… ìƒíƒœë¥¼ ë¶€ì—¬.
- AddStateë¡œ ìƒíƒœì´ìƒì„ ì¶”ê°€í•˜ê³  ApplyStateë¡œ ìƒíƒœì´ìƒ ì ìš©
```cpp

void IPoisonEffect::PostEffect()
{
	Character* target = parentSkill->GetTarget();

	target->statusManager->AddState(make_shared<PoisonState>(2, 5, amountStack));
}

```

---


## ì•„ì´í…œ ì‹œìŠ¤í…œ ë¬¸ì„œ 


## Item  
- ëª¨ë“  ì•„ì´í…œë“¤ì´ ê³µí†µìœ¼ë¡œ ìƒì†í•˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
- ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ì„œ ë‹¤ì–‘í•œ ì•„ì´í…œì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### êµ¬ì¡° 
- **itemNumber** : ì•„ì´í…œ ê³ ìœ  ë²ˆí˜¸.
- **name** : ì•„ì´í…œ ì´ë¦„
- **description** : ì•„ì´í…œ ì„¤ëª…
- **value** :  ì•„ì´í…œ ê°€ì¹˜

### ì£¼ìš” ê¸°ëŠ¥ 
**use** :  ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜ë¡œ ìºë¦­í„°ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì•„ì´í…œì„ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œ

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp
    Character player("Hero", 100);
    shared_ptr<Item> potion = make_shared<HealthPotion>();
    potion->use(&player);
```

**clone** : í”„ë¡œí† íƒ€ì… íŒ¨í„´ì„ í™œìš©í•˜ì—¬ ì•„ì´í…œì„ ë³µì œí•˜ëŠ” í•¨ìˆ˜ë¡œ ì•„ì´í…œ ë§¤ë‹ˆì €ì— ì €ì¥ëœ ì•„ì´í…œì„ ë°˜í™˜í• ë•Œ ì‚¬ìš©í•œë‹¤.

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp

    //ì•„ì´í…œ ë§¤ë‹ˆì €ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì§€ê³ ì˜´
    ItemManager& itemManager = ItemManager::GetInstance();

    // ì¸ìŠ¤í„´ìŠ¤ì— ìˆëŠ” ì•„ì´í…œ ê°€ì ¸ì™€ì„œ ë³µì œ
    shared_ptr<Item> clonedItem = itemManager.getItem(0)->clone();

```

**getInfoTextForShop** : ìƒì ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì•„ì´í…œ ì •ë³´ ë°˜í™˜

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp

    // HealthPotion ê°ì²´ ìƒì„±
    shared_ptr<Item> potion = make_shared<HealthPotion>();

    // ìƒì  ì •ë³´ë¥¼ ì¶œë ¥
    cout << potion->getInfoTextForShop() << endl;

```


## ItemManager  
- ê²Œì„ ë‚´ì—ì„œ ê´€ë¦¬ë˜ëŠ” ëª¨ë“  ì•„ì´í…œì„ í•œ ê³³ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì‹±ê¸€í„´ íŒ¨í„´ ê¸°ë°˜ì˜ í´ë˜ìŠ¤ ì…ë‹ˆë‹¤.

### êµ¬ì¡°
- **items** : unordered_map ì„ ì‚¬ìš©í•´ ê³ ìœ í•œ í‚¤ ê°’ìœ¼ë¡œ ì•„ì´í…œì„ ì €ì¥
- **nextKey** : ì•„ì´í…œì„ ì €ì¥í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ë‹¤ìŒ í‚¤ ê°’.

### ì£¼ìš” ê¸°ëŠ¥
**GetInstance** : ì‹±ê¸€í„´ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì•„ì´í…œ ë§¤ë‹ˆì € ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp

ItemManager::GetInstance();

```

**getRandomItem** : ì•„ì´í…œ ë§¤ë‹ˆì €ì— ì €ì¥ëœ ëœë¤í•œ ì•„ì´í…œ í•˜ë‚˜ë¥¼ ë°˜í™˜

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp

ItemManager::GetInstance()-> getRandomItem();

```

## Inventory 
- í”Œë ˆì´ì–´ê°€ ì†Œìœ í•œ ì•„ì´í…œê³¼ ê³¨ë“œë¥¼ ê´€ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ ì…ë‹ˆë‹¤.
- ì´ í´ë˜ìŠ¤ëŠ” í”Œë ˆì´ì–´ í´ë˜ìŠ¤ì—ì„œ ìƒì„±ë©ë‹ˆë‹¤.

### êµ¬ì¡° 
- **addItem** , **removeItem** : ì•„ì´í…œ ì €ì¥, ì‚­ì œ

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp

    // í”Œë ˆì´ì–´ ê°ì²´ ìƒì„±
    Player player("Hero");

    // HealthPotion ì•„ì´í…œ ì¶”ê°€
    player.inventoryComponent->addItem(make_shared<HealthPotion>());
    player.inventoryComponent->addItem(make_shared<HealthPotion>());

```

- **useItem** : ì•„ì´í…œì„ íŠ¹ì • ìºë¦­í„°ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥.

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp

    // í”Œë ˆì´ì–´ ê°ì²´ ìƒì„±
    Player player("Hero");
    player.UseItem(0, &player);

```

- **IsEmpty**: ì¸ë²¤í† ë¦¬ê°€ ë¹„ì–´ ìˆëŠ”ì§€ í™•ì¸.

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp

    // í”Œë ˆì´ì–´ ê°ì²´ ìƒì„±
    Player player("Hero");
    player.inventoryComponent.IsEmpty();

```

- **addGold**, **removeGold** : ê³¨ë“œ ì¶”ê°€ ë° ì‚­ì œ.

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp
    
    Player player("Hero");

    // ê³¨ë“œ ì¶”ê°€
    player.inventoryComponent.addGold(100); // 100 ê³¨ë“œ ì¶”ê°€

    // ê³¨ë“œ ì†Œëª¨
    player.inventoryComponent.removeGold(50); // 50 ê³¨ë“œ ì†Œëª¨

```

- **displayInventory** : í˜„ì¬ ì €ì¥ëœ ì•„ì´í…œê³¼ ê³¨ë“œ ì •ë³´ë¥¼ ì¶œë ¥.

#### <ì˜ˆì‹œ ì½”ë“œ>
```cpp
    
    // í”Œë ˆì´ì–´ ê°ì²´ ìƒì„±
    Player player("Hero");
    
    // ì¸ë²¤í† ë¦¬ ì •ë³´ ì¶œë ¥
    // type = 0 : ì•„ì´í…œ ëª…, ì•„ì´í…œ ì„¤ëª…, ì•„ì´í…œ ê°œìˆ˜, ê³¨ë“œ ì¶œë ¥
    // type = 1 : ì´ë¦„, ì„¤ëª…, ê°œìˆ˜ ì¶œë ¥
    // type = 2 : ì´ë¦„, ì„¤ëª… ì¶œë ¥ 
    player->inventoryComponent->displayInventory(0)

```



## ê²Œì„ ì‹œìŠ¤í…œ
---
### ê°œìš”
ê²Œì„ ì‹œìŠ¤í…œì€ í”„ë¡œì íŠ¸ì—ì„œ í”Œë ˆì´ì–´ê°€ ë¨¸ë¬´ëŠ” ê³µê°„ì„ ì˜ë¯¸í•œë‹¤. Gamesystem ì€ SystemContext í´ë˜ìŠ¤ë¥¼ í†µí•´ ì„œë¡œ ë‹¤ë¥¸ GameSystemìœ¼ë¡œ ì´ë™ ë° í˜„ì¬ GameSystemì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì„ í˜¸ì¶œí•˜ëŠ” Update í•¨ìˆ˜ë¥¼ í†µí•´ í˜„ì¬ Systemì— ì„¤ì •ë˜ì–´ìˆëŠ” SystemStateì— ë§ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.

### ì£¼ìš” í´ë˜ìŠ¤
- SystemContext
- GameSystem
- LobbySystem
- LobbySystemStates
- BattleSystem
- BattleSystemStates
- ShopSystem

### SystemContext
SystemContext í´ë˜ìŠ¤ëŠ” GameSystemì„ ìƒì†ë°›ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ì˜ ë¡œì§ì´ main ì½”ë“œì—ì„œ ë°˜ë³µë¬¸ìœ¼ë¡œ ì‹¤í–‰ ë  ìˆ˜ ìˆë„ë¡ GameSystem::Update() í˜¸ì¶œí•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. ë˜í•œ, í˜„ì¬ í”Œë ˆì´ì–´ê°€ ìœ„ì¹˜í•œ GameSystemì„ ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. SystemContextëŠ” GlobalEventManagerë¥¼ í†µí•´ OnEventë¡œ í˜¸ì¶œëœ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.
- SystemContext(): SystemContext ìƒì„±ìì—ì„œëŠ” SystemContextê°€ ê´€ë¦¬í•  ê° GameSystem ë©¤ë²„ ë³€ìˆ˜ë“¤ì„ ì´ˆê¸°í™”í•˜ë©°, ì²« ì‹œì‘ Systemì„ LobbySystem ìœ¼ë¡œ ì„¤ì •í•´ ê²Œì„ì„ ì‹œì‘í•œë‹¤. ë˜í•œ GlobalEventManagerì—ê²Œ GameSystem(BattleSystem)ì„ ë“±ë¡í•´ ì¶”í›„ BattleSystemì´ Eventë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤..
- OnEvent() override : SystemContextì— ë“±ë¡ëœ ì•Œë§ì€ Eventì¸ ê²½ìš° ìˆ˜í–‰ëœë‹¤.
```C++
void SystemContext::OnEvent(const std::shared_ptr<IEvent> _event)
{
	if (auto move = std::dynamic_pointer_cast<IMoveSystemEvent>(_event)) // í”Œë ˆì´ì–´ ì´ë™ ì´ë²¤íŠ¸ í˜¸ì¶œ
	{
		MoveSystem(move->to, move->from);
	}
	else if (auto create = std::dynamic_pointer_cast<ICharacterCreateEvent>(_event)) // í”Œë ˆì´ì–´ ìƒì„± ì´ë²¤íŠ¸ í˜¸ì¶œ
	{
		CreateCharacter(create->name);
	}
	else if (auto gameOver = std::dynamic_pointer_cast<IPlayerDefeatEvent>(_event)) // í”Œë ˆì´ì–´ íŒ¨ë°° ì´ë²¤íŠ¸ í˜¸ì¶œ
	{
		player.reset();
	}

	Publish(_event);
}
```
- Update(): í˜„ì¬ ì„¤ì •ëœ Gamesystemì˜ ë¡œì§ì„ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. GameSystemì— ì €ì¥ëœ stateì— ë§ëŠ” virtual void ISystemState::Excute() í•¨ìˆ˜ê°€ ì‹¤í–‰ ë˜ë„ë¡í•œë‹¤.
- MoveSystem(): GameSystemê°„ ì´ë™ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
```c++
oid SystemContext::MoveSystem(SystemType _to, SystemType _from)
{
	// System from ì—ì„œ System to ë¡œ ì´ë™

	if (_to != _from)
	{
		switch (_to)
		{
		case SystemType::LOBBY:
			currentSystem = lobbySystem;
			break;
		case SystemType::BATTLE:
			currentSystem = battleSystem;
			break;
		case SystemType::SHOP:
			currentSystem = shopSystem;
			break;
		default:
			break;
		}

		currentSystem->EnterSystem();
	}
}
``` 

```c++
enum class SystemType
{
	LOBBY,
	BATTLE,
	SHOP
};

class SystemContext : public IEventManagerSystem
{
public:
	SystemContext();
	~SystemContext();

	SystemContext(const SystemContext&) = delete;
	SystemContext& operator=(const SystemContext&) = delete;

	void Update();

	void OnEvent(const std::shared_ptr<IEvent> _event) override;
	inline shared_ptr<class Player> GetPlayer() 
	{
		return player; 
	}

	shared_ptr<GameSystem> GetCurrentSystem()
	{ 
		return currentSystem; 
	}
private:
	void MoveSystem(SystemType _to, SystemType _from);

public:
	void CreateCharacter(string _name);

	shared_ptr<GameSystem> currentSystem = nullptr;

	shared_ptr<LobbySystem> lobbySystem;
	shared_ptr<BattleSystem> battleSystem;
	shared_ptr<ShopSystem> shopSystem;

	shared_ptr<Player> player;
};
```

```C++
	extern shared_ptr<SystemContext> GSystemContext;

	while (true)
	{
		GSystemContext->Update(); // Update()ë¡œ ë³€ê²½í•´ì•¼í•¨
	}
```

[[ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°]](#ëª©ì°¨)

---

### GameSystem
í˜„ì¬ í”Œë ˆì´ì–´ê°€ ìœ„ì¹˜í•œ ê³µê°„ì„ ì˜ë¯¸í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ í´ë˜ìŠ¤ì´ë‹¤. GameSystemì„ ìƒì† ë°›ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ë¡œëŠ” LobbySystem(ë¡œë¹„ ë ˆë²¨), BattleSystem(ì „íˆ¬ ë ˆë²¨), ShopSystem(ìƒì  ë ˆë²¨)ì´ ìˆìœ¼ë©°
ê° GameSystemì€ í˜„ì¬ ìˆ˜í–‰í•´ì•¼í•˜ëŠ” Stateì˜ ì „í™˜ì„ í†µí•´ ì–´ë–¤ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•´ì•¼í• ì§€ ì„¤ì •í•˜ê³  GameSystem::Update() í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ ì €ì¥ëœ ISystemState ì„œë¸Œ í´ë˜ìŠ¤ ê¸°ëŠ¥ì— ë§ê²Œ íŒ©í† ë¦¬ëœ í´ë˜ìŠ¤ ë¡œì§ì„ Excute() í•¨ìˆ˜ë¥¼ í†µí•´ ìˆ˜í–‰í•©ë‹ˆë‹¤.
#### GameSystemì˜ ì—­í• 

- ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
	-GameSystemì€ ë‹¤ë¥¸ ì‹œìŠ¤í…œì´ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì„œë“œë‚˜ ë™ì‘ì˜ í‹€ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œì´ ì„œë¡œ ë‹¤ë¥¸ êµ¬í˜„ì„ ê°€ì§€ë”ë¼ë„, ì¼ì •í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ìƒíƒœ ê´€ë¦¬ ê¸°ëŠ¥ ì œê³µ
	- ëª¨ë“  ì‹œìŠ¤í…œì´ ìƒíƒœ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆì–´, ìƒíƒœ ë³€ê²½ê³¼ ë™ì‘ì´ ëª…í™•íˆ êµ¬ë¶„ë©ë‹ˆë‹¤.

- ìœ ì—°í•œ í™•ì¥ì„± ë³´ì¥
	-êµ¬ì²´ì ì¸ ê¸°ëŠ¥ì€ ê° í•˜ìœ„ í´ë˜ìŠ¤ (BattleSystem, ShopSystem, ...)ì—ì„œ êµ¬í˜„í•˜ë©°, GameSystemì€ ì´ë¥¼ í†µì œí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

#### ì£¼ìš” ë©”ì„œë“œ
1. Update() : void 
	- ì„¤ëª…: ì‹œìŠ¤í…œì˜ stateê°€ ê°€ì§„ ê¸°ëŠ¥ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. 
	- ì˜ˆì‹œ
		- BattleMainState->Update();
		- ShopSellState->Update();
```c++
void GameSystem::Update()
{
	//ChangeState();
	if (state)
	{
		state->Excute(this);
	}
	else
	{
		throw std::runtime_error("GameSystemì˜ stateê°€ nullptrì…ë‹ˆë‹¤.");
	}
}


```

2. EnterSystem() : void = 0;
	- ì„¤ëª…: ì‹œìŠ¤í…œì´ í™œì„±í™”ë  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤. ê° í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì´ë¥¼ êµ¬í˜„í•˜ì—¬ ì‹œìŠ¤í…œë³„ ì´ˆê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
	- ì˜ˆì‹œ
		- ShopSystem: ìƒì  ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”.

3. ExitSystem : void = 0;
	- ì„¤ëª…: ì‹œìŠ¤í…œì´ ë¹„í™œì„±í™”ë  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤. ì‹œìŠ¤í…œ ì¢…ë£Œ ì‹œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ê±°ë‚˜ ë‹¤ìŒ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
	- ì˜ˆì‹œ
		- BattleSystem: ì „íˆ¬ì—ì„œ ì‚¬ìš©ëœ ëª¬ìŠ¤í„° ì‚­ì œ
4. SetState(shared_ptr<ISystemState>)  void ë° + GetState() shared_ptr<ISystemState>
	- ì„¤ëª…: í˜„ì¬ ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. ìƒíƒœ ë³€ê²½(SetState) ë° í˜„ì¬ ìƒíƒœ ì¡°íšŒ(GetState)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
	- ì˜ˆì‹œ
		- BattleSystemì—ì„œ ìƒíƒœê°€ BattleAttackStateë¡œ ì „í™˜ë˜ë©´ SetStateë¥¼ í˜¸ì¶œ.
```c++
class ISystemState
{
public:
	virtual ~ISystemState() = default;

	virtual void Excute(GameSystem* system) = 0;
};

class GameSystem : public IEventManagerSystem
{
public:
	inline virtual SystemType GetSystemType() = 0;
	
	virtual void EnterSystem() = 0; // ì‹œìŠ¤í…œì´ ì‹œì‘ë  ë•Œ ìˆ˜í–‰ë  í•¨ìˆ˜(Initialize)
	void Update(); // systemì˜ ë¡œì§ ìˆ˜í–‰ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜, ë°˜ë³µ
	//void ExitSystem(SystemType nextType); // ì‹œìŠ¤í…œì„ ë‚˜ê°€ì•¼í•  ë•Œ ìˆ˜í–‰í•  í•¨ìˆ˜
	virtual ~GameSystem() {};
	//virtual void ChangeState() = 0;
	void SetState(shared_ptr<ISystemState> _state) { state = _state; }
	virtual string GetSystemName() = 0;
protected:
	shared_ptr<ISystemState> state;
};

```
5. OnEvent void
	- ì„¤ëª…: ì´ë²¤íŠ¸ ê¸°ë°˜ ì‹œìŠ¤í…œê³¼ì˜ í†µì‹ ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.(EventManagerSystemì„ ìƒì†) í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ í•„ìš”í•œ ì´ë²¤íŠ¸ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤.
	- ì˜ˆì‹œ
		- BattleSystem: ICharacterDeadEvent ì´ë²¤íŠ¸ë¥¼ í†µí•´ ìºë¦­í„° ì‚¬ë§ ì²˜ë¦¬.
		- ShopSystem: IItemPurchasedEvent ì´ë²¤íŠ¸ë¥¼ í†µí•´ ì•„ì´í…œ êµ¬ë§¤ ì²˜ë¦¬.

#### ì„¤ê³„ íŠ¹ì§•
1. í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
GameSystemì˜ ë©”ì„œë“œëŠ” í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ë”°ë¦…ë‹ˆë‹¤.
ì´ëŠ” ê³µí†µ ë¡œì§ì„ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì œê³µí•˜ê³ , ì„¸ë¶€ êµ¬í˜„ì€ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•˜ë„ë¡ í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

2. ìƒíƒœ ê´€ë¦¬ì˜ í†µí•©ì„±
stateë¼ëŠ” ê³µí†µ ì†ì„±ì„ ì‚¬ìš©í•´ ëª¨ë“  ì‹œìŠ¤í…œì´ ìƒíƒœ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
ìƒíƒœëŠ” ê°ê° ISystemStateí´ë˜ìŠ¤ì˜ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ ì •ì˜ë©ë‹ˆë‹¤.

3. ì¶”ìƒí™”ì™€ êµ¬í˜„ì˜ ë¶„ë¦¬
GameSystemì€ ì¸í„°í˜ì´ìŠ¤ë§Œ ì œê³µí•˜ë©°, êµ¬ì²´ì ì¸ ë¡œì§ì€ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•©ë‹ˆë‹¤.
ì´ ë°©ì‹ì€ ì½”ë“œ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

4. ì´ë²¤íŠ¸ ê¸°ë°˜ ì„¤ê³„
OnEvent ë©”ì„œë“œë¥¼ í†µí•´ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œê³¼ ìœ ì—°í•˜ê²Œ í†µí•©ë©ë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³ , ì´ë²¤íŠ¸ êµ¬ë…/ë°œí–‰ ë°©ì‹ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### GameSystemì˜ ì¥ì 
1. ì¼ê´€ëœ ì¸í„°í˜ì´ìŠ¤: ëª¨ë“  ì‹œìŠ¤í…œì´ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥.
2. ìœ ì—°í•œ í™•ì¥ì„±: ìƒˆë¡œìš´ ì‹œìŠ¤í…œ ì¶”ê°€ ì‹œ GameSystemì„ ìƒì†ë°›ì•„ êµ¬í˜„í•˜ë©´ ë¨.
3. ìº¡ìŠí™”: ìƒíƒœì™€ ë¡œì§ì„ ê° ì‹œìŠ¤í…œ ë‚´ë¶€ì— ìº¡ìŠí™”í•˜ì—¬, ë‹¤ë¥¸ ì‹œìŠ¤í…œê³¼ ë…ë¦½ì ìœ¼ë¡œ ì‘ë™ ê°€ëŠ¥.
4. ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±: ê³µí†µ ë™ì‘ì€ GameSystemì—, ê°œë³„ ë™ì‘ì€ í•˜ìœ„ í´ë˜ìŠ¤ì— êµ¬í˜„ë˜ì–´ ìˆ˜ì •ì´ ìš©ì´.

### LobbySystem
GameSystemì„ ìƒì†ë°›ëŠ” LobbySystemì€ í”Œë ˆì´ì–´ê°€ ê²Œì„ì„ ì‹œì‘í•˜ê±°ë‚˜, ê²Œì„ íŒ¨ë°° í˜¹ì€ ìŠ¹ë¦¬ í›„ ëŒì•„ì˜¬ ë•Œ ìœ„ì¹˜í•˜ëŠ” ë¡œë¹„ ê³µê°„ì„ ì˜ë¯¸íŒë‹¤. ë¡œë¹„ì—ì„œëŠ” ê²Œì„ì„ ì‹œì‘í•˜ê°€ë‚˜ ì¢…ë£Œí•˜ê³  ê²Œì„ì„ ì‹œì‘í•  ê²½ìš° í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.
- inline SystemType GetSystemType() override : í˜„ì¬ í”Œë ˆì´ì–´ê°€ ìœ„ì¹˜í•œ ë¡œë¹„ì˜ ê°’ì„ ë°˜í™˜í•œë‹¤.
- MainMenu() : í”Œë ˆì´ì–´ì—ê²Œ ê²Œì„ ì‹œì‘, ê²Œì„ ì¢…ë£Œ ë©”ë‰´ë¥¼ ì¶œë ¥í•œ ë’¤, í”Œë ˆì´ì–´ì—ê²Œ ì…ë ¥ì„ ë°›ëŠ”ë‹¤.
- CreatePlayerMenu() : í”Œë ˆì´ì–´ê°€ ê²Œì„ ì‹œì‘ì‹œ í”Œë ˆì´ì–´ì˜ ì´ë¦„ì„ ì…ë ¥ ë°›ê³  ì…ë ¥ ê²€ì¦ì„ í†µí•´ í”Œë ˆì´ì–´ ì´ë¦„ì„ ê²°ì •í•œë‹¤ë©´, ì´ë¥¼ í†µí•´ ì´ˆê¸° í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•œë‹¤. 
```cpp
class LobbySystem : public GameSystem
{
public:

	LobbySystem();
	void EnterSystem() override;

	inline SystemType GetSystemType() override
	{ 
		return SystemType::LOBBY;
	}

	void OnEvent(const std::shared_ptr<IEvent> _event) override;

	void MainMenu();
	void CreatePlayerMenu();

	virtual string GetSystemName() override { return "ë¡œë¹„"; };
private:
	std::vector<std::string> orcArt;
	std::vector<std::string> slimeArt;
	std::vector<std::string> dragonArt;
};
```
### LobbySystemStates
LobbySystemì€ Update() í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ í˜„ì¬ ì„¤ì •ëœ LobbySystemState ê°’ì— ë§ëŠ” ê¸°ëŠ¥ì„ í˜¸ì¶œí•˜ê²Œ í•©ë‹ˆë‹¤. 
ê° ê¸°ëŠ¥ì— ë§ê²Œ ì‹¤í–‰ë˜ë„ë¡ íŒ©í† ë¦¬ íŒ¨í„´ ë°©ì‹ì„ ì ìš©í•˜ì—¬, ê°™ì€ í•¨ìˆ˜ ì—¬ë„ ë‹¤ë¥¸ ê¸°ëŠ¥ì´ ìˆ˜í–‰ë˜ë„ë¡ í•©ë‹ˆë‹¤.
LobbyMainState: LobbySystemì˜ ë©”ì¸ ë©”ë‰´ê°€ ì‹¤í–‰ ë˜ë„ë¡ í•¨.
LobbyCreateState: LobbySystemì˜ í”Œë ˆì´ì–´ ìƒì„±ì´ ì‹¤í–‰ ë˜ë„ë¡ í•¨.
```
class LobbyMainState : public ISystemState
{
public:
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto lobby = dynamic_cast<LobbySystem*>(_system);

		if (lobby)
		{
			lobby->MainMenu();
		}
	}
};

class LobbyCreateState : public ISystemState
{
public:
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto lobby = dynamic_cast<LobbySystem*>(_system);

		if (lobby)
		{
			lobby->CreatePlayerMenu();
		}
	}
};
```
### BattleSystemStates
- ê°œìš”
	- í”Œë ˆì´ì–´ê°€ ì „íˆ¬ë¥¼ ì§„í–‰í•˜ëŠ” ë™ì•ˆ ìƒê¸°ëŠ” ì´ë²¤íŠ¸ë“¤(ê³µê²© ì„ íƒ, ì•„ì´í…œ ì‚¬ìš©, íŒ¨ë°°, ìŠ¹ë¦¬ ë“±)ì— ëŒ€í•´ ì•Œë§ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ êµ¬í˜„í•œ í´ë˜ìŠ¤ ì…ë‹ˆë‹¤. 
 	- í”Œë ˆì´ì–´ê°€ ì „íˆ¬ ì¤‘ íŠ¹ì • ì „í™˜ì„ ìˆ˜í–‰í•  ë•Œ state ë©¤ë²„ ë³€ìˆ˜ë¥¼ ë³€í™˜í•´ì£¼ë©´ ë‹¤ìŒì— Excute() í•¨ìˆ˜ê°€ ì‹¤í–‰ ë  ë•Œ ì˜ë„í•œ ê¸°ëŠ¥ì´ ìˆ˜í–‰ ë˜ë„ë¡ í•©ë‹ˆë‹¤
	- ê° Stateë³„ ê¸°ëŠ¥ì€ ì£¼ì„ìœ¼ë¡œ ì„¤ëª…í•˜ì˜€ìŠµë‹ˆë‹¤.
 ``` C++


class BattleMainState : public ISystemState // í”Œë ˆì´ì–´ì˜ ì „íˆ¬ ì„ íƒì§€ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
{
public:
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto battle = dynamic_cast<BattleSystem*>(_system);

		if (battle)
		{
			battle->MainMenu();
		}
	}
};

class BattleAttackState : public ISystemState // í”Œë ˆì´ì–´ì˜ ê³µê²© ë©”ë‰´ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
{
public:
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto battle = dynamic_cast<BattleSystem*>(_system);

		if (battle)
		{
			battle->Attack();
		}
	}
};

class BattleDisplayState : public ISystemState // í”Œë ˆì´ì–´ì˜ ì „íˆ¬ì¤‘ í˜„ì¬ ìƒíƒœ ë° ìŠ¤íƒ¯ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.
{
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto battle = dynamic_cast<BattleSystem*>(_system);

		if (battle)
		{
			battle->DisplayStat();
		}
	}
};

class BattleUseItemState : public ISystemState // í”Œë ˆì´ì–´ì˜ ì•„ì´í…œ ì‚¬ìš© ê¸°ëŠ¥ì„ í˜¸ì¶œí•©ë‹ˆë‹¤. ë³´ìœ  ì•„ì´í…œì„ ì¶œë ¥í•©ë‹ˆë‹¤.
{
public:
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto battle = dynamic_cast<BattleSystem*>(_system);

		if (battle)
		{
			battle->UseItem();
		}
	}
};

class BattleNextStageState : public ISystemState // í”Œë ˆì´ì–´ê°€ ë‹¤ìŒìŠ¤í…Œì´ì§€ë¡œ ë„˜ì–´ê°ˆ ë•Œ í˜¸ì¶œë˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.
{
public:
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto battle = dynamic_cast<BattleSystem*>(_system);

		if (battle)
		{
			battle->NextStage();
		}
	}
};

class BattleGameOverState: public ISystemState // í”Œë ˆì´ì–´ê°€ ê²Œì„ ì¢…ë¥˜ ë  ë•Œ í˜¸ì¶œ ë˜ëŠ” Battlesystem::GameOver() í•¨ìˆ˜ì…ë‹ˆë‹¤.
{
public:
	// ISystemStateì„(ë¥¼) í†µí•´ ìƒì†ë¨
	void Excute(GameSystem* _system) override
	{
		auto battle = dynamic_cast<BattleSystem*>(_system);

		if (battle)
		{
			battle->GameOver();
		}
	}
};
 ```
[[ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°]](#ëª©ì°¨)

---

### BattleSystem
- ê°œìš”
	- BattleSystemì€ í”Œë ˆì´ì–´ê°€ ì „íˆ¬ë¥¼ ì§„í–‰í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.
	- 

   
#### ì£¼ìš” ë©”ì„œë“œ
1. void OnEvent(const std::shared_ptr<IEvent> _event) override: BattleSystemì—ì„œ ì‚¬ìš©ë  ì´ë²¤íŠ¸ë“¤ì´ OnEvent í•¨ìˆ˜ í˜¸ì¶œì„ í•˜ë©´ ì´ë²¤íŠ¸ì— ë§ëŠ” ë¡œì§ì„ ìˆ˜í–‰í•˜ë„ë¡ ë¶„ê¸°ë¬¸ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. 
ì˜ˆë¥¼ ë“¤ë©´ í”Œë ˆì´ì–´ê°€ ê³µê²© ë°›ê³  ì£½ëŠ”ë‹¤ë©´ ICharacterDeadEvent í´ë˜ìŠ¤ ì´ë²¤íŠ¸ë¥¼ í˜¸ì¶œí•˜ê³  BattleSystemì´ GlobalEventManager::Notify()ë¥¼ í†µí•´ í˜¸ì¶œ ë°›ëŠ”ë‹¤ë©´ BattleSystem::OnEvent() í•¨ìˆ˜ì—ì„œ ì´ë¥¼ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.
```C++
void BattleSystem::OnEvent(const std::shared_ptr<IEvent> _event)
{
	if (auto deadEvent = dynamic_pointer_cast<ICharacterDeadEvent>(_event))
	{
		auto player = GSystemContext->GetPlayer();
		if (monster->statManager->IsDead())
		{
			state = make_shared<BattleNextStageState>();
		}
		else if (player->statManager->IsDead())
		{
			state = make_shared<BattleGameOverState>();
		}
	}
	else if (auto turnEvent = dynamic_pointer_cast<ITurnStartEvent>(_event))
	{
		turnSystem->BeginTurn();
	}
}
```
2. BattleSystem(): ìƒì„±ì ì…ë‹ˆë‹¤. ì „íˆ¬ ì‹œìŠ¤í…œì—ì„œ í„´ì„ ê´€ë¦¬í•  ë©¤ë²„ ë³€ìˆ˜ì™€ ë³´ìƒì„ ê´€ë¦¬í•˜ëŠ” ë©¤ë²„ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™” í•´ì¤ë‹ˆë‹¤.
```C++
	shared_ptr<URewardEventManagerSystem> rewardSystem; // í”Œë ˆì´ì–´ê°€ ìŠ¹ë¦¬ì‹œ ê³¨ë“œ, ê²½í—˜ì¹˜, ì•„ì´í…œ, ìŠ¤í‚¬ì„ ë¶€ì—¬í•´ì£¼ëŠ” IEventMangerSystemì„ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ ì…ë‹ˆë‹¤.
	shared_ptr<UTurnEventManager> turnSystem; // í”Œë ˆì´ì–´ê°€ ìŠ¤í‚¬ ì‚¬ìš©ì‹œ ìŠ¤í‚¬ì˜ ì§€ì†ì‹œê°„, ì¿¨ë‹¤ìš´ì„ ê³„ì‚°í•´ì£¼ëŠ” IEventMangerSystemì„ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ ì…ë‹ˆë‹¤.

BattleSystem::BattleSystem()
{
	rewardSystem = make_shared<URewardEventManagerSystem>();
	GlobalEventManager::Get().Subscribe(rewardSystem);

	turnSystem = std::make_shared<UTurnEventManager>();
	GlobalEventManager::Get().Subscribe(turnSystem);
}

```
3. virtual void EnterSystem() override : í”Œë ˆì´ì–´ê°€ ì „íˆ¬ ì‹œìŠ¤í…œì— ì²˜ìŒ ì…ì¥í•˜ë©´ ì „íˆ¬ ì‹œìŠ¤í…œì˜ ì‹œì‘ ì¤€ë¹„ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ëª¬ìŠ¤í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ë•Œ í”Œë ˆì´ì–´ê°€ 10ë ˆë²¨ ì´ìƒì¸ ê²½ìš° ë³´ìŠ¤ ëª¬ìŠ¤í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ìƒì„±ëœ ëª¬ìŠ¤í„°ì™€ í”Œë ˆì´ì–´ì˜ Targetì„ ì„œë¡œë¥¼ ë°”ë¡œ ë³´ë„ë¡ ì„¤ì •í•˜ë©° ê°ìì˜ ìŠ¤í‚¬ì´ Targetì—ê²Œ íš¨ê³¼ë¥¼ ë¶€ì—¬í•˜ë„ë¡ í•©ë‹ˆë‹¤.
```C++
void BattleSystem::EnterSystem()
{
	auto player = GSystemContext->GetPlayer();
	monster = make_shared<Monster>();
	monster->Initialize();
	monster->combatManager->SetTarget(player.get());
	player->combatManager->SetTarget(monster.get());

	player->combatManager->SetTarget(monster.get());

	activeCharacters.clear();
	activeCharacters.push_back(player.get());
	activeCharacters.push_back(monster.get());
	
	// í”Œë ˆì´ì–´ ë ˆë²¨ì— ë”°ë¥¸ monster ìƒì„±
	state = make_shared<BattleMainState>();

	rewardSystem->Initialize();
	turnSystem->TurnReset();
}
```
3.  MainMenu() : í”Œë ˆì´ì–´ê°€ ë§¤ í„´ ë§ˆë‹¤ ìˆ˜í–‰í•  ì„ íƒì§€ì¸ 1. ê³µê²©, 2. ìŠ¤íƒ¯í™•ì¸, 3. ì•„ì´í…œ ì‚¬ìš© ë©”ë‰´ë¥¼ ì¶œë ¥í•˜ê³  ì…ë ¥ì„ ë°›ìŠµë‹ˆë‹¤. ë§¤ ì…ë ¥ë§ˆë‹¤ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
  ```C++
void BattleSystem::MainMenu()
{
	// ë¼ìš´ë“œ ì‹œì‘í• ë•Œ ëª¬ìŠ¤í„° í˜„ì¬ ìƒíƒœ ì¶œë ¥
	DisplayStat();

	int input = InputManagerSystem::GetInput<int>(
		"==== ì „íˆ¬ ë©”ë‰´ ====",
		{ "1. ê³µê²©í•˜ê¸°" ,"2. ì•„ì´í…œ ì‚¬ìš©í•˜ê¸°" },
		RangeValidator<int>(1, 2)
	);

	if (input == 1)
	{
		auto cmd = make_shared<SystemChangeStateCommand>(make_shared<BattleAttackState>()); // state->Excute() ê°€ ê³µê²©ì„ ìˆ˜í–‰í•˜ë„ë¡ ë³€ê²½ ì¦‰, BattleSystem::Attackì„ ìˆ˜í–‰í•˜ë„ë¡í•¨
		GInvoker->ExecuteCommand(cmd);
		//state = make_shared<BattleAttackState>();
	}
	else
	{
		auto cmd = make_shared<SystemChangeStateCommand>(make_shared<BattleUseItemState>());  // state->Excute() ê°€ ì•„ì´í…œì„ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½ ì¦‰, BattleSystem::UseItem() ìˆ˜í–‰í•˜ë„ë¡í•¨
		GInvoker->ExecuteCommand(cmd);
		//state = make_shared<BattleUseItemState>();
	}
}
  ```

-  Attack(): í”Œë ˆì´ì–´ê°€ ê³µê²©ì„ ì„ íƒí•œë‹¤ë©´ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì´ë‹¤. í”Œë ˆì´ì–´ê°€ ê°€ì§€ê³  ìˆëŠ” ìŠ¤í‚¬ ëª©ë¡ë“¤ì„ ì„ íƒì§€ë¡œ ì¶œë ¥í•œ ë’¤, í”Œë ˆì´ì–´ì—ê²Œ ì…ë ¥ì„ ë°›ëŠ”ë‹¤. ì…ë ¥ì´ ì•Œë§ì€ì§€ ê²€ì¦ ë˜í•œ ìˆ˜í–‰í•©ë‹ˆë‹¤. ëŒì•„ê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤ë©´ ë‹¤ì‹œ MainStateê°€ ìˆ˜í–‰ë˜ë„ë¡ í•˜ë©° ìŠ¤í‚¬ì„ ì‚¬ìš©í•œ ê²½ìš° ëŒ€ìƒì—ê²Œ ìŠ¤í‚¬ íš¨ê³¼ë¥¼ ë¶€ì—¬í•œë‹¤. ê·¸ë¦¬ê³  í”Œë ˆì´ì–´ê°€ ê³µê²©í•œë‹¤ë©´ ëª¬ìŠ¤í„°ê°€ ìë™ìœ¼ë¡œ ë°˜ê²©í•˜ê²Œ í•œë‹¤. ëª¬ìŠ¤í„°ê°€ í”Œë ˆì´ì–´ ìƒëŒ€ë¡œ ê³µê²©í•˜ë„ë¡ ëª¬ìŠ¤í„°ì˜ ê³µê²© ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê° ê³µê²©ì€ ìˆ˜í–‰ì‹œ í”Œë ˆì´ì–´ì™€ ëª¬ìŠ¤í„°ì˜ ì‚¬ë§ ì—¬ë¶€ë¥¼ ì²´í¬í•˜ê³  ì‚¬ë§ì‹œ ì´ë²¤íŠ¸ í˜¸ì¶œì„ í†µí•´ ë‹¤ìŒ BattleSystemstateë¡œ ë³€í™˜ ë  ì‘ì—…ì¸ BattleSystem::OnEvent() í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
  ```C++
void BattleSystem::Attack()
{
	auto battleitemcheck = make_shared<IPlayerBattleAttackEvent>(); // UIEventë¡œ í”Œë ˆì´ì–´ ê³µê²© ìˆ˜í–‰ ì¶œë ¥
	GlobalEventManager::Get().Notify(battleitemcheck);

	auto player = GSystemContext->GetPlayer();

	vector<string> activeSkillList = player->skillManager->GetActiveSkillInfoWithString(0);
	// Contextë¡œ ë¶€í„° í”Œë ˆì´ì–´ ëª©ë¡ ë°›ì•„ì˜¤ê¸°(Systemì—ì„œ player ì €ì¥ x)
	// 1~n: ê°€ì§€ê³  ìˆëŠ” ìŠ¤í‚¬
	// n+1: ëŒì•„ê°€ê¸°
	int returnButton = activeSkillList.size() + 1; // ëŒì•„ê°€ê¸° ë²„íŠ¼
	activeSkillList.push_back(to_string(returnButton) + ". ëŒì•„ê°€ê¸°");

	int input = InputManagerSystem::GetInput<int>(
		"==================  ìŠ¤í‚¬ ì‚¬ìš© ===================",
		activeSkillList,
		RangeValidator<int>(1, returnButton)
	);

	if (input == returnButton)
	{
		auto cmd = make_shared<SystemChangeStateCommand>(make_shared<BattleMainState>());
		GInvoker->ExecuteCommand(cmd);
		//state = make_shared<BattleMainState>();
		return; // mainstate ì¬ì‹¤í–‰=>ê³µê²©,ìŠ¤íƒ¯,ì•„ì´í…œ ë©”ë‰´ ì¬ì‹¤í–‰
	}
	else
	{ // ìŠ¤í‚¬ ì‚¬ìš©
		
		auto playerAttackEv = make_shared<IPlayerBattleAttackEvent>();
		GlobalEventManager::Get().Notify(playerAttackEv);

		auto player = GSystemContext->GetPlayer();

		state = make_shared<BattleMainState>();
		
		if (!player->skillManager->UseSkill(player->skillManager->GetActiveSkillNameByIndex(input - 1)))
		{
			state = make_shared<BattleMainState>();
			return;
		}
	}

	// ëª¬ìŠ¤í„° ê³µê²©
	ConsoleLayout::GetInstance().AppendLine(ConsoleRegionType::LeftBottom, "\n");
	monster->combatManager->SetTarget(player.get());

	auto monsterAttackEv = make_shared<IMonsterBattleAttackEvent>();
	GlobalEventManager::Get().Notify(monsterAttackEv);

	monster->skillManager->UseSkill("ê¸°ë³¸ ê³µê²©");// ëª¬ìŠ¤í„° ì£½ìœ¼ë©´ ê³µê²© ì•ˆí•¨
	
	turnSystem->EndTurn(activeCharacters);

	DisplayStat();

	ConsoleLayout::GetInstance().AppendLine(ConsoleRegionType::LeftBottom, "\n");

	InputManagerSystem::PauseUntilEnter();
	ConsoleLayout::GetInstance().SelectClear(ConsoleRegionType::LeftBottom);
}
  ```
  
-  DisplayStat(): ì „íˆ¬ì¤‘ í”Œë ˆì´ì–´ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤
  ```C++
void BattleSystem::DisplayStat()
{
	//CLEAR;
	ConsoleLayout::GetInstance().SelectClear(ConsoleRegionType::LeftTop);
	ConsoleLayout::GetInstance().SelectClear(ConsoleRegionType::RightTop);
	ConsoleLayout::GetInstance().SelectClear(ConsoleRegionType::LeftTop);
	ConsoleLayout::GetInstance().SelectClear(ConsoleRegionType::RightTop);

	auto player = GSystemContext->GetPlayer();
	player.get()->PrintCharacterInfo();
	monster.get()->PrintCharacterInfo(1);
}
  ```
-  UseItem(): í”Œë ˆì´ì–´ê°€ ê°€ì§€ê³  ìˆëŠ” í˜„ì¬ ì•„ì´í…œ ëª©ë¡ì„ ì¶œë ¥í•©ë‹ˆë‹¤. ì•„ì´í…œì„ ì‚¬ìš©í•˜ê±°ë‚˜ ëŒì•„ê°„ë‹¤ë©´ ë‹¤ì‹œ ì „íˆ¬ ë©”ì¸ë©”ë‰´ë¥¼ ì¶œë ¥í•˜ë„ë¡ í•©ë‹ˆë‹¤.
  ```C++
void BattleSystem::UseItem()
{
	//CLEAR;

	auto battleitemcheck = make_shared<IBattleUseItemEvent>();
	GlobalEventManager::Get().Notify(battleitemcheck);
	
	auto player = GSystemContext->GetPlayer();
	vector<string> itemList = player->inventoryComponent->GetInventoryInfoWithString(1);
	
	int lastIndex = itemList.size() + 1;

	itemList.push_back(to_string(lastIndex) +". ëŒì•„ê°€ê¸°");
	int input = InputManagerSystem::GetInput<int>(
		"=== ì•„ì´í…œ ì‚¬ìš© ===", 
		itemList,
		RangeValidator<int>(1, lastIndex)
	);
  ```
-  NextStage(): í”Œë ˆì´ì–´ê°€ ëª¬ìŠ¤í„°ì™€ì˜ ì „íˆ¬ì—ì„œ ìŠ¹ë¦¬í•˜ë©´ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì²˜ì¹˜í•œ ëª¬ìŠ¤í„°ê°€ ë³´ìŠ¤ì¸ ê²½ìš° í”Œë ˆì´ì–´ê°€ ìŠ¹ë¦¬í–ˆë‹¤ëŠ” UIë¥¼ ì¶œë ¥í•œ ë’¤ LobbySystemìœ¼ë¡œ ëŒì•„ê°€ë„ë¡ SystemContext::currentSystem ë©¤ë²„ ë³€ìˆ˜ ê°’ì„ ì¬ì„¤ì •í•©ë‹ˆë‹¤.
ë§Œì•½ í”Œë ˆì´ì–´ê°€ ì¼ë°˜ ëª¬ìŠ¤í„°ë¥¼ ì²˜ì¹˜í•œ ê²½ìš°ì—ëŠ” í”Œë ˆì´ì–´ì—ê²Œ ë³´ìƒì„ ë¶€ì—¬í•˜ëŠ” GetReward() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë‹¤ìŒ ìŠ¤í…Œì´ì§€ ë˜ëŠ” ìƒì ì„ ë°©ë¬¸í•  ìˆ˜ìˆëŠ” UI ì¶œë ¥ ë° ì…ë ¥ì„ ë°›ìŠµë‹ˆë‹¤. ì´ë•Œ ì…ë ¥ì„ ê²€ì¦í•©ë‹ˆë‹¤.

  ```C++
void BattleSystem::NextStage()
{
	if (monster->IsBoss())
	{	
		// ë³´ìŠ¤ ëª¬ìŠ¤í„°
		// ê²Œì„ ìŠ¹ë¦¬ UI ì¶œë ¥
		auto playergameclear = make_shared<IPlayerGameClearEvent>();
		GlobalEventManager::Get().Notify(playergameclear);

		// ê²Œì„ ìŠ¹ë¦¬ë¡œ ë¡œë¹„ë¡œ ê·€í™˜,
		// ì´ë•Œê¹Œì§€ ë™ì‘í•œ ë¡œê·¸ë¼ë˜ê°€ëŠ” ì—¬ê¸°ì„œ ì¶œë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤

		auto event = make_shared<IMoveSystemEvent>(SystemType::LOBBY, GetSystemType(), "ë¡œë¹„", "ë°°í‹€");
		GlobalEventManager::Get().Notify(event);
		InputManagerSystem::PauseUntilEnter();
		ConsoleLayout::GetInstance().SelectClear(ConsoleRegionType::LeftBottom);
		return;
	}
	else
	{	
		GetReward();

		int input = InputManagerSystem::GetInput<int>(
			"==== ìŠ¤í…Œì´ì§€ í´ë¦¬ì–´ ë©”ë‰´ ====",
			{ "1. ë‹¤ìŒ ìŠ¤í…Œì´ì§€" , "2. ìƒì  ë°©ë¬¸í•˜ê¸°" },
			RangeValidator<int>(1, 2)
		);

		if (input == 1)
		{
			EnterSystem();
		}
		else if (input == 2)
		{
			auto cmd = make_shared<SystemMoveCommand>(SystemType::SHOP, GetSystemType(), "ìƒì ", "ë°°í‹€");
			GInvoker->ExecuteCommand(cmd);
		}
	}
}
  ```
- GetReward() : í”Œë ˆì´ì–´ì—ê²Œ ë³´ìƒì„ ë¶€ì—¬í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. í”Œë ˆì´ì–´ëŠ” ì¼ë°˜ ëª¬ìŠ¤í„°ë¥¼ ì²˜ì¹˜ì‹œ ì¼ë°˜ ëª¬ìŠ¤í„°ê°€ ê°€ì§„ ëˆê³¼ ì•„ì´í…œì„ ë°›ìœ¼ë©° ê²½í—˜ì¹˜ë¥¼ ë¶€ì—¬ ë°›ìŠµë‹ˆë‹¤. ë˜í•œ ìŠ¤í‚¬ì„ ì„ íƒí•´ì„œ ê°€ì§ˆ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
```C++
void BattleSystem::GetReward()
{
	auto player = GSystemContext->GetPlayer();
	auto reward = rewardSystem->GetReward();

	player->inventoryComponent->addGold(reward.gold); // ëˆ ë„£ê¸°

	if (monster->characterReward.dropItem != nullptr)
	{
		auto playergetitem = make_shared<IPlayerGetItemEvent>();
		GlobalEventManager::Get().Notify(playergetitem);
		player->inventoryComponent->addItem(reward.item); // í…œ ë„£ê¸°
	}

	int skillSize = reward.skillTypes.size();
	
	if (reward.skillTypes.size() > 0)
	{
		vector<string> options;

		for (int i = 0; i < skillSize; i++)
		{
			shared_ptr<Skill> skill = SkillManager::GetInstance().CreateSkillFromType(reward.skillTypes[i], player.get());
			options.push_back(to_string(i + 1) + ", " + skill->GetSkillData().skillName);
		}

		int input = InputManagerSystem::GetInput<int>("=== ìŠ¤í‚¬ ì„ íƒ ===", options, RangeValidator<int>(1, reward.skillTypes.size()));

		auto cmd = make_shared<AddSkillCommand>(reward.skillTypes[input - 1]);
		GInvoker->ExecuteCommand(cmd);
		Delay(1);
	}

	CharacterUtility::ModifyStat(player.get(), StatType::Experience, rewardSystem->GetReward().exp);
	monster = nullptr;

	auto battlestageclear = make_shared<IPlayerStageClearEvent>();
	GlobalEventManager::Get().Notify(battlestageclear);
}
```
-  GameOver() : í”Œë ˆì´ì–´ê°€ íŒ¨ë°°í–ˆì„ ì‹œ í˜¸ì¶œ ë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œë¹„ë¡œ ë˜ëŒì•„ ê°€ë„ë¡ SystemContextì˜ OnEvent() ë¥¼ í˜¸ì¶œ í•˜ë„ë¡ GlobalEventManager::Notify()ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
  ```C++
void BattleSystem::GameOver()
{
	auto playergamedefeat = make_shared<IPlayerDefeatEvent>();
	GlobalEventManager::Get().Notify(playergamedefeat);

	auto event = make_shared<IMoveSystemEvent>(SystemType::LOBBY, GetSystemType(), "ë¡œë¹„", "ë°°í‹€");
	GlobalEventManager::Get().Notify(event);
}

  ```

[[ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°]](#ëª©ì°¨)

---


---




---
### ShopSystem
ë„ì „ê³¼ì œì˜ ìƒì  ì‹œìŠ¤í…œì„ êµ¬í˜„í•œ ê²ƒìœ¼ë¡œ, í”Œë ˆì´ì–´ê°€ ì•„ì´í…œì„ ì‚¬ê³ íŒ”ê³ , ì¸ë²¤í† ë¦¬ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” í•µì‹¬ì ì¸ ë¡œì§ì„ ë‹´ë‹¹í•˜ê³  ìˆìŠµë‹ˆë‹¤. ShopSystem ì€ ì•„ì´í…œ êµ¬ë§¤, íŒë§¤, ì¸ë²¤í† ë¦¬ ê´€ë¦¬ ë“±ì˜ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ìš”í•œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. 
í”Œë ˆì´ì–´ì˜ ìƒì  ê²½í—˜ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ì‹¬ì ì¸ ì—­í• ì„ í•˜ë©°, UIì™€ ì‚¬ìš©ì ì…ë ¥ì„ ì˜ ì—°ê²°í•˜ì—¬ ê²Œì„ì˜ íë¦„ì„ ì œì–´í•©ë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ìƒíƒœ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ìƒì ì˜ ì—¬ëŸ¬ ìƒíƒœ(ë©”ì¸ ë©”ë‰´, ì•„ì´í…œ êµ¬ë§¤, ì•„ì´í…œ íŒë§¤ ë“±)ë¥¼ ì²˜ë¦¬í•˜ë©°, ê°ê°ì˜ ìƒíƒœ ì „í™˜ì„ ëª…ë ¹ íŒ¨í„´ì„ í†µí•´ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

#### ì£¼ìš” ë©”ì„œë“œ
1. EnterSystem()
ìƒì  ì‹œìŠ¤í…œì— ì§„ì…í•  ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¡œ ì§„ì… ì „ ì½˜ì†” í™”ë©´ì„ ì „ë¶€ ì§€ìš°ê³ , ëœë¤ ì•„ì´í…œê³¼ ìŠ¤í‚¬ì„ ìƒì„±í•´ ìƒì ì—ì„œ íŒë§¤í•  ì•„ì´í…œ, ìŠ¤í‚¬ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.

2. MainMenu()
ìƒì ì˜ ë©”ì¸ ë©”ë‰´ë¥¼ í‘œì‹œí•˜ê³ , ì‚¬ìš©ìì˜ ì„ íƒì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
ë©”ì¸ì—ì„  ì•„ì´í…œ êµ¬ë§¤, íŒë§¤, BattleSystemìœ¼ë¡œ ëŒì•„ê°€ê¸° ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ê³ , ì„ íƒëœ ì…ë ¥ì— ë”°ë¼ ì ì ˆí•œ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. 

3. BuyItemMenu()
ì•„ì´í…œ êµ¬ë§¤ ë©”ë‰´ë¥¼ í‘œì‹œí•˜ê³ , ì‚¬ìš©ìì˜ êµ¬ë§¤ ìš”ì²­ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. 

4. SellMenu()
ëª©ì : ì•„ì´í…œ íŒë§¤ ë©”ë‰´ë¥¼ í‘œì‹œí•˜ê³ , ì‚¬ìš©ìê°€ ì„ íƒí•œ ì•„ì´í…œì„ íŒë§¤í•©ë‹ˆë‹¤.

5. GetRandomItemsAndSkills()
ëª©ì : ëœë¤ ì•„ì´í…œê³¼ ìŠ¤í‚¬ì„ ìƒì„±í•˜ì—¬ ìƒì ì— ì¶”ê°€í•©ë‹ˆë‹¤.

6. OnEvent()
ìºë¦­í„°ê°€ ìƒì ê³¼ ê´€ë ¨ëœ ìŠ¤í‚¬(íŒŒëŠ” ì•„ì´í…œ ê°€ê²© ê°ì†Œ)ì„ íšë“í•  ë•Œ í•´ë‹¹ ìŠ¤í‚¬ì— ëŒ€í•œ íš¨ê³¼ë¥¼ ì ìš©í•©ë‹ˆë‹¤.


[[ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°]](#ëª©ì°¨)


---


---
# InputManagerSystem

**InputManagerSystem**ì€ ì‚¬ìš©ì ì…ë ¥ì„ ê´€ë¦¬í•˜ëŠ” ì¤‘ìš”í•œ ì—­í• ì„ í•˜ë©°, ê²Œì„ ë‚´ì—ì„œ í”Œë ˆì´ì–´ì˜ ë™ì‘ì„ ì²˜ë¦¬í•˜ëŠ” í•µì‹¬ì ì¸ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê²Œì„ ì‹œìŠ¤í…œê³¼ ìœ ì € ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ ì—°ê²°í•©ë‹ˆë‹¤.

## InputManagerSystemì˜ ì—­í• 
**InputManagerSystem**ì€ ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ì„ ë°›ì•„ ì´ë¥¼ ê²Œì„ ì‹œìŠ¤í…œì˜ ì ì ˆí•œ ë™ì‘ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
í‚¤ë³´ë“œ ì…ë ¥ì„ ì²˜ë¦¬í•˜ê³ , ì´ë¥¼ ë‹¤ë¥¸ ì‹œìŠ¤í…œì— ì „ë‹¬í•˜ê±°ë‚˜ íŠ¹ì • ëª…ë ¹ì„ ì‹¤í–‰í•˜ê²Œë” í•©ë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” ê¸°ëŠ¥ë“¤ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. ì…ë ¥ ì²˜ë¦¬ ë° ê²€ì¦: ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ ê²€ì¦í•˜ê³  ê²€ì¦ ê²°ê³¼ê°€ ë¶€í•©í•˜ë©´ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
2. ì…ë ¥ ëŒ€ê¸° ë° ì „í™˜: ì…ë ¥ì„ ê¸°ë‹¤ë¦¬ê³ , íŠ¹ì • ì…ë ¥ì— ë”°ë¼ ìƒíƒœë‚˜ ì‹œìŠ¤í…œì„ ì „í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
3. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê´€ë¦¬: ì…ë ¥ì„ ë°›ì•„ UI ë©”ë‰´ë¥¼ êµ¬ì„±í•˜ê³ , ì‚¬ìš©ì ì„ íƒì— ë”°ë¼ ë‹¤ë¥¸ ì‹œìŠ¤í…œìœ¼ë¡œì˜ ì „í™˜ì„ ìœ ë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. ë²”ìš©ì„±: ì…ë ¥ ì²˜ë¦¬ ì‹œìŠ¤í…œì´ ë‹¤ì–‘í•œ ê²Œì„ ì‹œìŠ¤í…œì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë©ë‹ˆë‹¤.

## InputManagerSystemì˜ êµ¬ì„± ë° íë¦„
```cpp
class InputManagerSystem {
public:
    template <typename T>
    static T GetInput(const std::string& prompt, const std::vector<std::string>& options, const RangeValidator<T>& validator);

    static void PauseUntilEnter();  // ì—”í„°í‚¤ê°€ ì…ë ¥ë  ë•Œê¹Œì§€ ëŒ€ê¸°
};
```
### + GetInput<T>() 
ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ì„ ë°›ì•„ í•´ë‹¹ íƒ€ì…(`T`)ì— ë§ëŠ” ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. optionsë¡œ ì œê³µëœ ì„ íƒì§€ë“¤ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ê²Œ í•˜ê±°ë‚˜, íŠ¹ì • ë²”ìœ„ ë‚´ì—ì„œ ê°’ì´ ì…ë ¥ë˜ë„ë¡ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
InputValidator ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ê°’ì´ ìœ íš¨í•œ ë²”ìœ„ ë‚´ì— ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ê°€ë³€ ì¸ì í…œí”Œë¦¿ì´ê¸°ì—, í•˜ë‚˜ì˜ ì…ë ¥ì— ëŒ€í•œ ê²€ì¦ì— ì—¬ëŸ¬ê°€ì§€ ê²€ì¦ ì¡°ê±´ì„ ì¶”ê°€í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë²”ìš©ì„±: ë‹¤ì–‘í•œ íƒ€ì…ì— ëŒ€í•´ GetInputì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í…œí”Œë¦¿ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì •ìˆ˜í˜•, ë¬¸ìì—´, ë“± ë‹¤ì–‘í•œ íƒ€ì…ì— ëŒ€í•´ ë™ì‘í•©ë‹ˆë‹¤.

#### ì‚¬ìš© ì˜ˆì‹œ
```cpp
string userName = InputManagerSystem::GetInput(
	"ìºë¦­í„°ì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.(ì¤‘ê°„ ê³µë°± í—ˆìš©, ìµœëŒ€12ì)",
	{},
	NameRangeValidator(1, 12),
	NameSpaceValidator(),
	NoSpecialCharValidator()
);
```
`NameRangeValidator(1,12)` ëŠ” `string.length()`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë²”ìœ„ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.
`NoSpaceValidator()` ëŠ” ì…ë ¥ ë°›ì€ stringì´ ì „ë¶€ ê³µë°±ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
`NoSpecialCharValidator()` ëŠ” íŠ¹ìˆ˜ë¬¸ì ì…ë ¥ì„ ë°©ì§€í•©ë‹ˆë‹¤.

ì¦‰ ìœ„ì˜ í•¨ìˆ˜ëŠ” ì‚¬ìš©ìì—ê²Œ `string` ì…ë ¥ì„ ë°›ê³ , ì…ë ¥ê°’ì˜ ê¸¸ì´ê°€ 1~12 ì¸ì§€, ì „ë¶€ ê³µë°±ì´ ì•„ë‹Œì§€, íŠ¹ìˆ˜ë¬¸ìê°€ í¬í•¨ë˜ì§€ ì•Šì€ì§€ í™•ì¸í•˜ê³  ëª¨ë“  ì¡°ê±´ì´ `true`ì¼ ë•Œ `userName`ì— ê°’ì„ ë¦¬í„´í•´ì¤ë‹ˆë‹¤.

### + PauseUntilEnter ë©”ì„œë“œ
ì´ ë©”ì„œë“œëŠ” ì‚¬ìš©ìê°€ Enter í‚¤ë¥¼ ëˆ„ë¥¼ ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
ì¼ë°˜ì ìœ¼ë¡œ ê²Œì„ì˜ íŠ¹ì • í™”ë©´ì—ì„œ UI ì´ë²¤íŠ¸ë‚˜ ìƒíƒœ ì „í™˜ í›„ ì‚¬ìš©ìì˜ ì…ë ¥ì„ ê¸°ë‹¤ë¦´ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

### InputManagerSystemì˜ ì‚¬ìš© ì‚¬ë¡€
`InputManagerSystem`ì€ ë‹¤ì–‘í•œ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ì ì…ë ¥ì„ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ëª‡ ê°€ì§€ ì£¼ìš” ì‚¬ìš© ì‚¬ë¡€ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. ê° ì‹œìŠ¤í…œì—ì„œì˜ ë¶„ê¸° ì…ë ¥ 
ê° ì‹œìŠ¤í…œì—ì„œ ë¶„ê¸°ë¥¼ ì„ íƒí•´ì•¼ í•  ë•Œ, ì…ë ¥ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```cpp
//ë°°í‹€ ì‹œìŠ¤í…œì—ì„œì˜ ë¶„ê¸° ì„ íƒ ì˜ˆì‹œ
int input = InputManagerSystem::GetInput<int>(
    "==== ì „íˆ¬ ë©”ë‰´ ====",
    { "1. ê³µê²©í•˜ê¸°", "2. ì•„ì´í…œ ì‚¬ìš©í•˜ê¸°" },
    RangeValidator<int>(1, 2)
);

//ìƒì  ì‹œìŠ¤í…œì—ì„œì˜ ë¶„ê¸° ì„ íƒ ì˜ˆì‹œ
int input = InputManagerSystem::GetInput<int>(
    "=== ì•„ì´í…œ êµ¬ë§¤ ===", 
    itemList,
    RangeValidator<int>(1, lastIndex)
);
```

2. UI ë©”ë‰´ ì„ íƒ
ê²Œì„ì˜ ì—¬ëŸ¬ ë©”ë‰´ì—ì„œ ì‚¬ìš©ìì˜ ì„ íƒì„ ë°›ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í€˜ìŠ¤íŠ¸ ì„ íƒ, ì˜µì…˜ ë©”ë‰´ì—ì„œì˜ ì„¤ì • ë³€ê²½ ë“±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```cpp
int input = InputManagerSystem::GetInput<int>(
    "=== ìŠ¤í‚¬ ì„ íƒ ===",
    options,
    RangeValidator<int>(1, reward.skillTypes.size())
);
```
### InputManagerSystemì˜ ì¥ì 
- ìœ ì—°ì„±: ë‹¤ì–‘í•œ ê²Œì„ ì‹œìŠ¤í…œì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. í…œí”Œë¦¿ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ íƒ€ì…ì˜ ì…ë ¥ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì‚¬ìš©ì ì…ë ¥ì˜ ê²€ì¦: RangeValidatorì™€ ê°™ì€ ê²€ì¦ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ì—¬, ì˜ëª»ëœ ì…ë ¥ì„ ì²˜ë¦¬í•˜ê³  ìœ íš¨í•œ ì…ë ¥ë§Œì„ í—ˆìš©í•©ë‹ˆë‹¤.
- ì¸í„°í˜ì´ìŠ¤ì™€ì˜ ê²°í•©ë„ ê°ì†Œ: InputManagerSystemì„ í†µí•´ UIì™€ ê´€ë ¨ëœ ë¡œì§ì„ ë¶„ë¦¬í•˜ê³ , ê²Œì„ ì‹œìŠ¤í…œì˜ ë¡œì§ì€ ì…ë ¥ ì²˜ë¦¬ì— ì§‘ì¤‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì…ë ¥ ëŒ€ê¸° ê¸°ëŠ¥: PauseUntilEnter ë©”ì„œë“œë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì…ë ¥ì„ ì™„ë£Œí•  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” íŠ¹ì • ìƒí™©ì—ì„œì˜ ëŒ€ê¸° ë˜ëŠ” ì •ì§€ ë™ì‘ì— ìœ ìš©í•©ë‹ˆë‹¤.

### ê°œì„  ê°€ëŠ¥ì„±
- ì…ë ¥ ì²˜ë¦¬ í™•ì¥: í˜„ì¬ëŠ” í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ì…ë ¥ë§Œ ì²˜ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ëŠ”ë°, ê²Œì„ì´ ë°œì „í•¨ì— ë”°ë¼ ë§ˆìš°ìŠ¤ í´ë¦­, ë“œë˜ê·¸ ë“±ì˜ ì…ë ¥ë„ ì§€ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì‹¤í–‰ ì²˜ë¦¬ í™•ì¥: í˜„ì¬ëŠ” ì…ë ¥ê°’ì„ ë°˜í™˜í•˜ì§€ë§Œ, ê° ë¶„ê¸°ë³„ ì‹¤í–‰ ê¸°ëŠ¥ì„ ê°™ì´ ë„£ì–´ ì…ë ¥ ê°’ì„ ë°˜í™˜í•˜ì§€ ì•Šê³  ì…ë ¥ ê°’ì— ëŒ€í•œ ì¶”ê°€ì ì¸ ë™ì‘ì„ ì§€ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê²°ë¡ 
InputManagerSystemì€ ê²Œì„ì—ì„œ ìœ ì € ì¸í„°í˜ì´ìŠ¤(UI)ì™€ ì‹œìŠ¤í…œ ê°„ì˜ ì¤‘ìš”í•œ ì—°ê²° ê³ ë¦¬ ì—­í• ì„ í•©ë‹ˆë‹¤. ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ì„ ë°›ì•„ ì´ë¥¼ ê²€ì¦í•˜ê³ , ì ì ˆí•œ ì‹œìŠ¤í…œ ë™ì‘ì„ ìœ ë„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê²Œì„ì˜ íë¦„ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì œì–´í•©ë‹ˆë‹¤. íŠ¹íˆ ë‹¤ì–‘í•œ ì…ë ¥ì„ ì²˜ë¦¬í•˜ëŠ” ìœ ì—°ì„±ê³¼ ê²€ì¦ ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ê²Œì„ ì‹œìŠ¤í…œì„ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘ì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.


[[ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°]](#ëª©ì°¨)

---


## ì½”ë“œ ì‹œì—° ì˜ìƒ
[![Video Label](http://img.youtube.com/vi/LgUdFP0pCiY/0.jpg)](https://youtu.be/LgUdFP0pCiY)




## KPTíšŒê³  













